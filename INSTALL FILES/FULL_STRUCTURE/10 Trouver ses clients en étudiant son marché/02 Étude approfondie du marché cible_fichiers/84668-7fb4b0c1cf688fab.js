"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[84668],{53285:(e,t,l)=>{l.d(t,{Q:()=>z,N:()=>A});var s=l(74848),r=l(96540),a=l(99269),i=l(40961),n=l(62636),o=l(15074),d=l(69162),c=l(58427),u=l(19631),h=l(50639);let m=e=>({"image/jpeg":".jpg","image/pjpeg":".jpg","image/png":".png","image/gif":".gif","image/webp":".webp","image/bmp":".bmp","image/tiff":".tiff","image/svg+xml":".svg","image/x-icon":".ico","video/mp4":".mp4","video/webm":".webm","video/ogg":".ogv","video/mpeg":".mpeg","video/quicktime":".mov","video/x-msvideo":".avi","video/x-ms-wmv":".wmv","audio/mpeg":".mp3","audio/wav":".wav","audio/x-wav":".wav","audio/ogg":".ogg","audio/webm":".weba","audio/flac":".flac","audio/aac":".aac","audio/3gpp":".3gp","audio/amr":".amr","audio/opus":".opus"})[e]||".jpg",p=e=>{if(!e)return null;let t=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(e);return t&&t[1]?t[1].replace(/['"]/g,""):null},x=e=>{try{var t;let l=new URL(e,window.location.href);return(null===(t=l.pathname.split("/").pop())||void 0===t?void 0:t.split("?")[0])||"attachment"}catch(e){return"attachment"}};var g=l(61224),C=l(21576);let f=e=>{let{attachment:t}=e,[l,a]=(0,r.useState)();return((0,r.useEffect)(()=>{(async()=>{t.url&&a(await (0,g.ZX)(t.url))})()},[t.url]),t.url&&l)?(0,s.jsx)("article",{className:"inline-flex w-full shrink-0 snap-center justify-center px-20 py-10 lg:px-80 lg:py-40",children:(0,s.jsx)("div",{className:"size-full",dangerouslySetInnerHTML:{__html:l.html}})},t.id):(0,s.jsx)(C.a,{})};var v=l(98957),w=l.n(v);let j=e=>{let{attachment:t}=e;return t.url?(0,s.jsx)("article",{className:"inline-flex w-full shrink-0 snap-center justify-center px-20 py-10 lg:px-80 lg:py-40",children:(0,s.jsx)(w(),{controls:!0,width:"100%",height:"100%",url:t.url})},t.id):null},b=e=>{let{attachment:t}=e;return(0,s.jsx)("article",{className:"inline-flex w-full shrink-0 snap-center justify-center px-20 py-10 lg:px-80 lg:py-40",children:(0,s.jsx)("img",{className:"object-contain",src:t.url,alt:t.url})},t.id)},y=e=>{let{attachment:t}=e;return(0,s.jsx)("article",{className:"inline-flex w-full shrink-0 snap-center justify-center px-20 py-10 lg:px-80 lg:py-40",children:(0,s.jsx)("img",{className:"object-contain",src:t.url,alt:t.url})},t.id)},N=e=>{let{attachment:t}=e;return(0,s.jsx)("article",{className:"inline-flex w-full shrink-0 snap-center justify-center px-20 py-10 lg:px-80 lg:py-40",children:(0,s.jsx)("video",{controls:!0,src:t.url})},t.id)};var k=l(17488);let L=e=>{switch(e.type){case k.r.Image:case k.r.EmbeddedImage:return(0,s.jsx)(y,{attachment:e},e.id);case k.r.Video:return(0,s.jsx)(N,{attachment:e},e.id);case k.r.EmbeddedVideo:if(g.tf.isLoomUrl(e.url))return(0,s.jsx)(f,{attachment:e},e.id);return(0,s.jsx)(j,{attachment:e},e.id);case k.r.EmbeddedGif:return(0,s.jsx)(b,{attachment:e},e.id);case k.r.Audio:default:return null}},V=()=>{let e=(0,a.S)(),{t}=(0,d.Bd)(),{attachments:l,initialGallerySlide:g,setIsGalleryVisible:C}=A(),[f,v]=(0,r.useState)(!1),{scrollRef:w,activePageIndex:j,hasPrevPage:b,hasNextPage:y,prev:N,next:V,goTo:M}=(0,o.O)(),z=null==l?void 0:l[j],E=(null==z?void 0:z.type)===k.r.Image||(null==z?void 0:z.type)===k.r.EmbeddedGif;(0,r.useEffect)(()=>{f||void 0===g||(M(g,{behavior:"instant"}),v(!0))},[f,M,g]);let _=async()=>{if(!(null==z?void 0:z.url)){n.Ay.error(t("core.error.internal_error_message"));return}try{let t=await fetch(z.url);if(!t.ok){e.error("Error downloading attachment",{url:z.url,status:t.status});return}let l=await t.blob(),s=t.headers.get("content-disposition"),r=URL.createObjectURL(l),a=document.createElement("a");a.href=r,a.download=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{contentDisposition:null},l=null;return t.contentDisposition&&(l=p(t.contentDisposition)),l||(l=x(e)),/\.[0-9a-z]+$/i.test(l)||(l+=t.contentType?m(t.contentType):".jpg"),l}(z.url,{contentDisposition:s,contentType:l.type}),document.body.appendChild(a),a.click(),a.remove(),setTimeout(()=>URL.revokeObjectURL(r),300)}catch(t){e.error("Error downloading attachment",{url:z.url,error:t instanceof Error?t.message:"Unknown error",errorObject:t})}};return(0,r.useEffect)(()=>{let e=e=>{switch(e.stopPropagation(),e.key){case"ArrowLeft":N();return;case"ArrowRight":V();return;case"Escape":C(!1);return;default:return}};return window.addEventListener("keydown",e,!0),()=>{window.removeEventListener("keydown",e,!0)}},[V,N,C]),(0,i.createPortal)((0,s.jsxs)("div",{className:"fixed inset-0 z-[1001] bg-black",children:[(0,s.jsx)("section",{className:"hidden-scrollbar flex h-full snap-x snap-mandatory overflow-x-auto overscroll-contain",ref:w,children:null==l?void 0:l.map(L)}),(0,s.jsxs)("div",{children:[b&&(0,s.jsx)("button",{"aria-label":t("global.previous"),className:"absolute left-3 top-1/2 -translate-y-1/2 lg:left-12",onClick:()=>N(),children:(0,s.jsx)(h.A,{className:"rotate-180 stroke-white"})}),y&&(0,s.jsx)("button",{"aria-label":t("global.next"),className:"absolute right-3 top-1/2 -translate-y-1/2 lg:right-12",onClick:()=>V(),children:(0,s.jsx)(h.A,{className:"stroke-white"})})]}),(0,s.jsxs)("div",{className:"absolute right-3 top-3 inline-flex items-center gap-8 lg:right-12 lg:top-12",children:[E&&(0,s.jsx)("button",{type:"button",onClick:_,children:(0,s.jsx)(u.A,{className:"cursor-pointer fill-white",height:21,width:21})}),(0,s.jsx)("button",{type:"button",onClick:()=>C(!1),children:(0,s.jsx)(c.A,{className:"cursor-pointer fill-white",height:25,width:25})})]})]}),document.body)},M=(0,r.createContext)({attachments:[],isGalleryVisible:!1,isEditable:!1,isUploading:!1,setInitialGallerySlide:()=>{},setIsGalleryVisible:()=>{},addAttachment:()=>0,removeAttachment:()=>{},addError:()=>{},updateAttachment:()=>{},reorder:()=>{}}),A=()=>(0,r.useContext)(M),z=(0,r.forwardRef)(function(e,t){var l,a;let[i,n]=(0,r.useState)(),[o,d]=(0,r.useState)(!1),[c,u]=(0,r.useState)(null!==(l=e.attachments)&&void 0!==l?l:[]),h=(0,r.useMemo)(()=>c.some(e=>{let{status:t}=e;return t===k.g.Uploading}),[c]),m=(0,r.useCallback)(e=>u(t=>t.filter(t=>t.id!==e)),[]),p=(0,r.useCallback)((e,t)=>u(l=>l.map((l,s)=>s===e?{...l,error:t,status:k.g.Failed}:l)),[]),x=(0,r.useCallback)((e,t)=>u(l=>l.map((l,s)=>s===e?{...l,...t}:l)),[]),g=(0,r.useCallback)((e,t)=>u(l=>{let s=l.findIndex(t=>t.id===e),r=l.findIndex(e=>e.id===t),a=l.slice(),i=a.splice(s,1)[0];return a.splice(r,0,i),a}),[]);return(0,r.useImperativeHandle)(t,()=>({clear:()=>u([])})),(0,r.useEffect)(()=>{e.onChange&&e.onChange(c)},[c,e.onChange]),(0,s.jsxs)(M.Provider,{value:{attachments:c,isGalleryVisible:o,initialGallerySlide:i,isUploading:h,isEditable:null!==(a=e.isEditable)&&void 0!==a&&a,setIsGalleryVisible:d,setInitialGallerySlide:n,addAttachment:e=>{let t=c.length;return u(t=>t.concat(e)),t},removeAttachment:m,addError:p,updateAttachment:x,reorder:g},children:[e.children,o&&(0,s.jsx)(V,{})]})})},47709:(e,t,l)=>{l.d(t,{A:()=>f});var s=l(74848),r=l(99269),a=l(96540),i=l(62636),n=l(69162),o=l(50856);let d=e=>(0,s.jsx)("svg",{height:"512",viewBox:"0 0 512 512",width:"512",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",...e,children:(0,s.jsxs)("g",{children:[(0,s.jsx)("path",{d:"m338.95 243.28-120-75c-4.625-2.89-10.453-3.043-15.222-.4-4.77 2.643-7.729 7.667-7.729 13.12v150c0 5.453 2.959 10.476 7.729 13.12 2.266 1.256 4.77 1.88 7.271 1.88 2.763 0 5.522-.763 7.95-2.28l120-75c4.386-2.741 7.05-7.548 7.05-12.72s-2.663-9.979-7.049-12.72zm-112.95 60.656v-95.873l76.698 47.937z"}),(0,s.jsx)("path",{d:"m437 61h-362c-41.355 0-75 33.645-75 75v240c0 41.355 33.645 75 75 75h362c41.355 0 75-33.645 75-75v-240c0-41.355-33.645-75-75-75zm45 315c0 24.813-20.187 45-45 45h-362c-24.813 0-45-20.187-45-45v-240c0-24.813 20.187-45 45-45h362c24.813 0 45 20.187 45 45z"})]})});var c=l(70996),u=l(89226),h=l(3810),m=l(76738);let p=e=>{let{isOpen:t,onSuccess:l,onClose:r}=e,{t:i}=(0,n.Bd)(),[o,d]=(0,a.useState)(""),[p,x]=(0,a.useState)(""),[g,C]=(0,a.useState)(!1);return(0,s.jsx)(u.A,{opened:t,onClose:r,title:i("post.attachments.embedded_video_link.title"),small:!0,isFetching:g,children:(0,s.jsxs)("form",{className:"flex flex-col gap-6 lg:gap-10",children:[(0,s.jsxs)("div",{className:"flex flex-col justify-center gap-3",children:[(0,s.jsx)(c.A,{value:o,label:i("global.url"),onChange:e=>d(e.target.value),type:"url",maxLength:512}),(0,s.jsx)("span",{children:i("post.attachments.embedded_video_link.description")})]}),(0,s.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,s.jsx)(h.A,{isLoading:g,onClick:e=>{if(e.preventDefault(),C(!0),!(0,m.RZ)(o)){x(i("post.attachments.embedded_video_link.error_unsupported")),C(!1);return}l(o),C(!1),d(""),r()},type:"button",children:i("confirmation_modal.confirm")}),(0,s.jsx)(h.A,{onClick:e=>{e.preventDefault(),r()},disabled:g,type:"button",children:i("confirmation_modal.cancel")})]}),p&&(0,s.jsx)("p",{className:"text-center text-sm text-red",children:p})]})})};var x=l(17488),g=l(73396),C=l(53285);let f=e=>{let{className:t,iconClassName:l=""}=e,c=(0,r.S)(),{t:u}=(0,n.Bd)(),[h,f]=(0,a.useState)(!1),{addAttachment:v,updateAttachment:w}=(0,C.N)(),j=async e=>{let t=v({id:crypto.randomUUID(),status:x.g.Uploading,url:e,previewUrl:null,type:x.r.EmbeddedVideo});try{let l=await (0,m.zd)(e);if("error"in l&&(l.error===g.z?i.Ay.error(u("post.attachments.upload_unauthorized")):i.Ay.error(u("post.attachments.upload_failed"))),"error"in l)throw Error(l.error);w(t,{status:x.g.Success,previewUrl:l.thumbnail_url})}catch(e){c.error("failed to upload embedded video url",e),w(t,{status:x.g.Failed})}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>f(!0),type:"button",className:t,children:(0,s.jsx)(d,{className:(0,o.QP)("size-6 text-lightgray hover:text-darkblue",l)})}),(0,s.jsx)(p,{isOpen:h,onClose:()=>f(!1),onSuccess:j})]})}},44388:(e,t,l)=>{l.d(t,{u:()=>b});var s=l(74848),r=l(17488),a=l(53285),i=l(96540),n=l(50991),o=l(50856),d=l(19517);let c=function(e){return(0,s.jsxs)("svg",{width:"26",height:"25",viewBox:"0 0 26 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.4817 25H7.46169C6.47399 25 5.68847 25 5.05469 24.9482C4.40573 24.8952 3.85233 24.7843 3.34561 24.5261C2.52753 24.1093 1.86241 23.4441 1.44557 22.6261C1.18737 22.1194 1.07647 21.566 1.02344 20.917C0.971645 20.2832 0.97168 19.4977 0.97168 18.5101V6.48995C0.97168 5.50228 0.971645 4.71675 1.02344 4.08301C1.07647 3.43405 1.18737 2.88065 1.44557 2.37393C1.86241 1.55585 2.52753 0.89073 3.34561 0.473888C3.85233 0.215694 4.40573 0.104794 5.05469 0.0517623C5.68843 -3.43388e-05 6.47396 0 7.46163 0H19.4817C20.4694 0 21.2549 -3.43388e-05 21.8887 0.0517623C22.5376 0.104794 23.091 0.215694 23.5977 0.473888C24.4158 0.89073 25.0809 1.55585 25.4978 2.37393C25.756 2.88065 25.8669 3.43405 25.9199 4.08301C25.9717 4.71679 25.9717 5.50231 25.9717 6.49001V18.51C25.9717 19.4977 25.9717 20.2832 25.9199 20.917C25.8669 21.566 25.756 22.1194 25.4978 22.6261C25.0809 23.4441 24.4158 24.1093 23.5977 24.5261C23.091 24.7843 22.5376 24.8952 21.8887 24.9482C21.2549 25 20.4694 25 19.4817 25ZM21.7706 23.5038C22.33 23.4581 22.6714 23.3715 22.9398 23.2348C23.4852 22.9569 23.9286 22.5135 24.2065 21.9681C24.3432 21.6998 24.4298 21.3583 24.4754 20.799C24.5219 20.2311 24.5224 19.5048 24.5224 18.4783V6.52174C24.5224 5.49518 24.5219 4.76886 24.4754 4.20105C24.4298 3.64168 24.3432 3.30023 24.2065 3.03192C23.9286 2.48651 23.4852 2.04309 22.9398 1.7652C22.6714 1.62847 22.33 1.54193 21.7706 1.49624C21.2028 1.44982 20.4765 1.44928 19.4499 1.44928H7.49342C6.46686 1.44928 5.74054 1.44982 5.17273 1.49624C4.61336 1.54193 4.27191 1.62847 4.0036 1.7652C3.45819 2.04309 3.01477 2.48651 2.73688 3.03192C2.60015 3.30023 2.51361 3.64168 2.46792 4.20105C2.4215 4.76886 2.42096 5.49518 2.42096 6.52174V18.4783C2.42096 19.5048 2.4215 20.2311 2.46792 20.799C2.51361 21.3583 2.60015 21.6998 2.73688 21.9681C3.01477 22.5135 3.45819 22.9569 4.0036 23.2348C4.27191 23.3715 4.61336 23.4581 5.17273 23.5038C5.74054 23.5502 6.46686 23.5507 7.49342 23.5507H19.4499C20.4765 23.5507 21.2028 23.5502 21.7706 23.5038Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M9.3459 16.2287C8.58535 16.2287 7.93985 16.0849 7.40939 15.7973C6.88532 15.5097 6.48587 15.107 6.21104 14.5893C5.93621 14.0717 5.79883 13.4645 5.79883 12.7679C5.79883 12.231 5.87872 11.7485 6.03846 11.3203C6.20466 10.8857 6.44114 10.5182 6.74791 10.2178C7.06105 9.91104 7.43814 9.67456 7.87913 9.5084C8.3265 9.34224 8.8314 9.25916 9.39382 9.25916C9.73894 9.25916 10.0841 9.29751 10.4292 9.37417C10.7743 9.45087 11.1066 9.57872 11.4262 9.75764C11.5604 9.83434 11.6499 9.9334 11.6946 10.0548C11.7458 10.1699 11.7586 10.2945 11.733 10.4287C11.7138 10.5565 11.6627 10.6716 11.5796 10.7738C11.5029 10.8697 11.4007 10.9336 11.2728 10.9656C11.1514 10.9912 11.0108 10.9656 10.851 10.8889C10.6401 10.7738 10.4164 10.6908 10.1799 10.6396C9.94345 10.5821 9.68464 10.5534 9.40343 10.5534C8.94964 10.5534 8.56936 10.6396 8.2626 10.8122C7.95583 10.9784 7.72573 11.2276 7.57237 11.56C7.42535 11.8859 7.35187 12.2885 7.35187 12.7679C7.35187 13.4901 7.52441 14.0365 7.86953 14.4072C8.22106 14.7779 8.73875 14.9632 9.4226 14.9632C9.65267 14.9632 9.88915 14.9409 10.132 14.8961C10.3749 14.8514 10.6145 14.7875 10.851 14.7044L10.573 15.3083V13.4677H9.71019C9.51844 13.4677 9.37146 13.4198 9.2692 13.3239C9.16695 13.228 9.1158 13.097 9.1158 12.9308C9.1158 12.7583 9.16695 12.6273 9.2692 12.5378C9.37146 12.4419 9.51844 12.394 9.71019 12.394H11.2153C11.407 12.394 11.5508 12.4451 11.6467 12.5474C11.749 12.6496 11.8001 12.7966 11.8001 12.9884V15.2125C11.8001 15.3787 11.7681 15.5193 11.7042 15.6343C11.6403 15.7493 11.5317 15.8324 11.3783 15.8836C11.0907 15.9858 10.7679 16.0689 10.41 16.1328C10.0521 16.1967 9.6974 16.2287 9.3459 16.2287Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M13.863 16.2095C13.6201 16.2095 13.4348 16.1424 13.307 16.0082C13.1791 15.874 13.1152 15.6854 13.1152 15.4426V10.0453C13.1152 9.80239 13.1791 9.61383 13.307 9.47964C13.4348 9.34542 13.6201 9.27832 13.863 9.27832C14.0995 9.27832 14.2816 9.34542 14.4094 9.47964C14.5373 9.61383 14.6012 9.80239 14.6012 10.0453V15.4426C14.6012 15.6854 14.5373 15.874 14.4094 16.0082C14.288 16.1424 14.1059 16.2095 13.863 16.2095Z",fill:"currentColor"}),(0,s.jsx)("path",{d:"M16.7183 16.2095C16.4754 16.2095 16.2869 16.1424 16.1527 16.0082C16.0248 15.874 15.9609 15.679 15.9609 15.4234V10.1412C15.9609 9.89189 16.028 9.70017 16.1623 9.56594C16.2965 9.43172 16.4882 9.36462 16.7374 9.36462H20.0161C20.2078 9.36462 20.3516 9.41573 20.4475 9.51802C20.5497 9.61387 20.6009 9.75447 20.6009 9.93981C20.6009 10.1316 20.5497 10.2785 20.4475 10.3808C20.3516 10.4767 20.2078 10.5246 20.0161 10.5246H17.4468V12.1735H19.8052C19.9969 12.1735 20.1439 12.2247 20.2462 12.3269C20.3484 12.4228 20.3996 12.5634 20.3996 12.7487C20.3996 12.9341 20.3484 13.0779 20.2462 13.1801C20.1439 13.2824 19.9969 13.3335 19.8052 13.3335H17.4468V15.4234C17.4468 15.9475 17.204 16.2095 16.7183 16.2095Z",fill:"currentColor"})]})},u=e=>{let{setReferenceElement:t,onToggle:l,isOpen:r,iconClassName:a,...i}=e;return(0,s.jsx)("button",{ref:t,onClick:l,type:"button","aria-label":"Toggle GIF Picker","aria-expanded":r,...i,children:(0,s.jsx)(c,{className:((0,o.QP)("size-6"),a)})})};var h=l(69162),m=l(15407),p=l(21576),x=l(17266),g=l(55687),C=l(92177),f=l(75526),v=l(68635);let w=e=>{let{onSelect:t,onClose:l}=e,{t:r}=(0,h.Bd)(),[a,n]=(0,i.useState)(""),[o]=(0,x.o)(a,300),{gifs:d,error:c,isLoadingMore:u,isReachingEnd:w,loadMore:j}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,l=e.trim(),[s,r]=(0,i.useState)([]),[a,n]=(0,i.useState)(null),[o,d]=(0,i.useState)(null),[c,u]=(0,i.useState)(!1);(0,i.useEffect)(()=>{r([]),n(null),d(null),u(!1)},[e]);let{fetcher:h}=(0,f.e)({method:v.Z.get}),m=new URLSearchParams;a&&m.set("pos",a),t&&m.set("limit",t.toString()),l&&m.set("query",l);let{data:p,error:x}=(0,C.Ay)("/api/google-integration/gifs?".concat(m.toString()),h);(0,i.useEffect)(()=>{p&&(r(e=>[...e,...p.results]),d(p.next||null),p.next||u(!0))},[p]);let g=!p&&!x;return{gifs:s,error:x,isLoadingMore:g,isReachingEnd:c,loadMore:()=>{c||g||n(o)}}}(o,16),b=(0,i.useRef)(null),y=(0,g.A)(b);(0,i.useEffect)(()=>{!y||w||u||j()},[y,w,u]);let N=(0,i.useCallback)(e=>{n(e)},[]),k=e=>{t(e),l()};return(0,s.jsx)("div",{className:"relative z-10 flex max-h-[875px] w-72 flex-col overflow-auto rounded-xl bg-white shadow-2xl",children:(0,s.jsxs)("div",{className:"h-96 w-72 max-w-full overflow-auto",children:[(0,s.jsxs)("div",{className:"flex w-full flex-col items-center p-4 pb-11",children:[(0,s.jsx)(m.A,{className:"relative mb-4 flex h-10 w-full items-center justify-start rounded-md border border-gray-200 focus-within:border-blue",inputClassName:"h-full w-full border-none bg-transparent outline-none",placeholder:r("global.search"),value:a,onChange:e=>N(e.target.value),onClear:()=>N("")}),(0,s.jsx)("div",{className:"flex w-full flex-wrap justify-between",children:d.map(e=>(0,s.jsx)("div",{className:"mb-2 h-[77px] w-[calc(50%-4px)] animate-loadingGifPulse cursor-pointer overflow-hidden rounded bg-[length:400px]",onClick:()=>k(e),children:(0,s.jsx)("div",{className:"size-full bg-cover bg-center",style:{backgroundImage:"url(".concat(e.tinyUrl,")")}})},e.id))}),(0,s.jsx)("div",{ref:b,className:"w-full"}),u&&(0,s.jsxs)("div",{className:"flex items-center justify-center p-5",children:[(0,s.jsx)(p.a,{type:"light",className:"fill-transparent"}),"."]}),w&&d.length>0&&(0,s.jsx)("div",{className:"py-4 text-sm text-gray-300",children:r("gifs.panel.end_of_results")}),0===d.length&&!u&&!c&&(0,s.jsx)("div",{className:"py-4 text-sm text-gray-300",children:r("gifs.panel.nothing_found")})]}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 flex h-11 w-full items-center bg-white"})]})})},j=e=>{let{onSelect:t,className:l,iconClassName:r}=e,[a,c]=(0,i.useState)(!1),[h,m]=(0,i.useState)(null),[p,x]=(0,i.useState)(null),{styles:g,attributes:C}=(0,n.E)(h,p,{placement:"top",strategy:"fixed",modifiers:[{name:"flip",enabled:!0,options:{fallbackPlacements:["top","bottom"]}},{name:"offset",options:{offset:[0,10]}}]}),f=(0,d.L)(()=>c(!1));return(0,s.jsxs)("div",{ref:f,className:(0,o.QP)("flex",l),children:[(0,s.jsx)(u,{iconClassName:r,setReferenceElement:m,isOpen:a,onToggle:()=>{c(e=>!e)}}),a&&(0,s.jsx)("div",{ref:x,style:{...g.popper,zIndex:30},...C.popper,children:(0,s.jsx)(w,{onSelect:t,onClose:()=>{c(!1)}})})]})},b=e=>{let{className:t,iconClassName:l=""}=e,{addAttachment:i}=(0,a.N)();return(0,s.jsx)(j,{className:t,onSelect:e=>{i({id:crypto.randomUUID(),status:r.g.Success,url:e.url,previewUrl:e.previewUrl,type:r.r.EmbeddedGif})},iconClassName:l})}},59249:(e,t,l)=>{l.d(t,{A:()=>p});var s=l(74848),r=l(96540),a=l(82790),i=l(18831),n=l(43627),o=l(50856),d=l(74979);function c(e){let{children:t,as:l="li",...r}=e,{attributes:a,listeners:i,setNodeRef:o,transform:c,transition:u}=(0,n.gl)({...r}),h={transform:d.Ks.Transform.toString(c),transition:u};return(0,s.jsx)(l,{style:h,ref:o,...a,...i,children:t})}var u=l(41054),h=l(53285),m=l(79763);function p(e){var t;let{className:l}=e,{attachments:d,reorder:c,isEditable:u}=(0,h.N)(),p=null!==(t=null==d?void 0:d.filter(e=>!!e.id).map(e=>e.id))&&void 0!==t?t:[],C=(0,r.useMemo)(()=>{var e;return"ontouchstart"in window||(null===(e=navigator)||void 0===e?void 0:e.maxTouchPoints)>0},[]),f=(0,a.MS)(a.AN,{activationConstraint:{distance:5}}),v=(0,a.MS)(a.uN,{coordinateGetter:n.JR}),w=(0,a.FR)(f,v),j=C||!u?[]:w,b=(0,r.useRef)(null),[y,N]=(0,r.useState)({canScrollLeft:!1,canScrollRight:!1});(0,r.useEffect)(()=>{if(C)return;let e=b.current;if(!e)return;let t=()=>{N({canScrollLeft:e.scrollLeft>0,canScrollRight:e.scrollLeft+e.clientWidth<e.scrollWidth})};return t(),e.addEventListener("scroll",t),window.addEventListener("resize",t),()=>{e.removeEventListener("scroll",t),window.removeEventListener("resize",t)}},[d,C]);let k=e=>{var t;null===(t=b.current)||void 0===t||t.scrollBy({left:e,behavior:"smooth"})};return(0,s.jsxs)("div",{className:"relative",children:[!C&&y.canScrollLeft&&(0,s.jsx)(g,{onClick:e=>{e.preventDefault(),k(-200)},direction:"left"}),!C&&y.canScrollRight&&(0,s.jsx)(g,{onClick:e=>{e.preventDefault(),k(200)},direction:"right"}),(0,s.jsx)("div",{className:"hidden-scrollbar max-w-full overflow-auto",ref:b,children:(0,s.jsx)("ul",{className:(0,o.QP)("customScroll flex flex-row gap-3",l),children:(0,s.jsx)(a.Mp,{onDragEnd:e=>{let{active:t,over:l}=e;c(t.id,null==l?void 0:l.id)},sensors:j,modifiers:[i.dU],children:(0,s.jsx)(n.gB,{items:p,children:null==d?void 0:d.map(e=>(0,s.jsx)(x,{attachment:e,children:(0,s.jsx)(m.A,{attachment:e})},e.id))})})})})]})}let x=e=>{let{children:t,attachment:l}=e;return l.id?(0,s.jsx)(c,{id:l.id,data:l,children:t}):(0,s.jsx)("li",{children:t})},g=e=>{let{onClick:t,direction:l}=e;return(0,s.jsx)("div",{className:(0,o.Id)("absolute top-1/2 z-30 -translate-y-1/2","left"===l?"left-2":"right-2"),children:(0,s.jsx)("button",{onClick:t,className:"group relative flex size-10 items-center justify-center rounded-full bg-white shadow-md hover:border-2 hover:border-darkblue2",children:(0,s.jsx)(u.A,{className:(0,o.Id)("stroke-blue-300 group-hover:stroke-darkblue2","right"===l&&"rotate-180")})})})}},79763:(e,t,l)=>{l.d(t,{A:()=>V});var s=l(74848),r=l(50856);let a=e=>{let{small:t=!1,type:l="light",className:a,style:i,iconClassName:n}=e;return(0,s.jsxs)("div",{role:"status",className:a,style:i,children:[(0,s.jsxs)("svg",{"aria-hidden":"true",className:(0,r.QP)(t?"size-5":"size-8","light"===l?"fill-blue text-white":"fill-white text-darkblue",n),viewBox:"0 0 86 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("rect",{width:"86",height:"10",rx:"5",fill:"#ECECEC"}),(0,s.jsx)("rect",{x:"0",y:"1",height:"8",rx:"4",fill:"#00A0FF",className:"animate-fillBar"}),(0,s.jsx)("rect",{x:"1",y:"1",width:"8",height:"8",rx:"4",fill:"#00A0FF",className:"animate-moveCircle"})]}),(0,s.jsx)("span",{className:"text-xs text-lightgray-100",children:"Uploading..."})]})};var i=l(21576);let n=e=>(0,s.jsxs)("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,s.jsxs)("g",{clipPath:"url(#clip0_346016_6455)",children:[(0,s.jsx)("path",{d:"M256 512C397.385 512 512 397.385 512 256C512 114.615 397.385 0 256 0C114.615 0 0 114.615 0 256C0 397.385 114.615 512 256 512Z",fill:"black",fillOpacity:"0.5"}),(0,s.jsx)("path",{d:"M181 376V136C181 124.02 194.352 116.874 204.32 123.519L384.32 243.519C393.226 249.456 393.226 262.543 384.32 268.481L204.32 388.481C194.352 395.126 181 387.981 181 376Z",fill:"white"})]}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"clip0_346016_6455",children:(0,s.jsx)("rect",{width:"512",height:"512",fill:"white"})})})]});var o=l(53285),d=l(69162),c=l(96540);let u=e=>(0,s.jsxs)("svg",{width:"30",height:"31",viewBox:"0 0 30 31",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,s.jsx)("path",{d:"M11.25 2.88635H5.625C4.87908 2.88635 4.16371 3.18267 3.63626 3.71011C3.10882 4.23756 2.8125 4.95293 2.8125 5.69885V11.3239C2.8125 11.5725 2.91127 11.8109 3.08709 11.9868C3.2629 12.1626 3.50136 12.2614 3.75 12.2614C3.99864 12.2614 4.2371 12.1626 4.41291 11.9868C4.58873 11.8109 4.6875 11.5725 4.6875 11.3239V5.69885C4.6875 5.45021 4.78627 5.21176 4.96209 5.03594C5.1379 4.86012 5.37636 4.76135 5.625 4.76135H11.25C11.4986 4.76135 11.7371 4.66258 11.9129 4.48676C12.0887 4.31095 12.1875 4.07249 12.1875 3.82385C12.1875 3.57521 12.0887 3.33676 11.9129 3.16094C11.7371 2.98512 11.4986 2.88635 11.25 2.88635Z",fill:"white"}),(0,s.jsx)("path",{d:"M24.375 2.88635H18.75C18.5014 2.88635 18.2629 2.98512 18.0871 3.16094C17.9113 3.33676 17.8125 3.57521 17.8125 3.82385C17.8125 4.07249 17.9113 4.31095 18.0871 4.48676C18.2629 4.66258 18.5014 4.76135 18.75 4.76135H24.375C24.6236 4.76135 24.8621 4.86012 25.0379 5.03594C25.2137 5.21176 25.3125 5.45021 25.3125 5.69885V11.3239C25.3125 11.5725 25.4113 11.8109 25.5871 11.9868C25.7629 12.1626 26.0014 12.2614 26.25 12.2614C26.4986 12.2614 26.7371 12.1626 26.9129 11.9868C27.0887 11.8109 27.1875 11.5725 27.1875 11.3239V5.69885C27.1875 4.95293 26.8912 4.23756 26.3637 3.71011C25.8363 3.18267 25.1209 2.88635 24.375 2.88635Z",fill:"white"}),(0,s.jsx)("path",{d:"M26.25 17.8864C26.0014 17.8864 25.7629 17.9851 25.5871 18.1609C25.4113 18.3368 25.3125 18.5752 25.3125 18.8239V24.4489C25.3125 24.6975 25.2137 24.936 25.0379 25.1118C24.8621 25.2876 24.6236 25.3864 24.375 25.3864H18.75C18.5014 25.3864 18.2629 25.4851 18.0871 25.6609C17.9113 25.8368 17.8125 26.0752 17.8125 26.3239C17.8125 26.5725 17.9113 26.811 18.0871 26.9868C18.2629 27.1626 18.5014 27.2614 18.75 27.2614H24.375C25.1209 27.2614 25.8363 26.965 26.3637 26.4376C26.8912 25.9101 27.1875 25.1948 27.1875 24.4489V18.8239C27.1875 18.5752 27.0887 18.3368 26.9129 18.1609C26.7371 17.9851 26.4986 17.8864 26.25 17.8864Z",fill:"white"}),(0,s.jsx)("path",{d:"M11.25 25.3864H5.625C5.37636 25.3864 5.1379 25.2876 4.96209 25.1118C4.78627 24.936 4.6875 24.6975 4.6875 24.4489V18.8239C4.6875 18.5752 4.58873 18.3368 4.41291 18.1609C4.2371 17.9851 3.99864 17.8864 3.75 17.8864C3.50136 17.8864 3.2629 17.9851 3.08709 18.1609C2.91127 18.3368 2.8125 18.5752 2.8125 18.8239V24.4489C2.8125 25.1948 3.10882 25.9101 3.63626 26.4376C4.16371 26.965 4.87908 27.2614 5.625 27.2614H11.25C11.4986 27.2614 11.7371 27.1626 11.9129 26.9868C12.0887 26.811 12.1875 26.5725 12.1875 26.3239C12.1875 26.0752 12.0887 25.8368 11.9129 25.6609C11.7371 25.4851 11.4986 25.3864 11.25 25.3864Z",fill:"white"})]});var h=l(76738);let m=e=>{let{id:t,className:l}=e,{t:r}=(0,d.Bd)(),{attachments:a,setInitialGallerySlide:i,setIsGalleryVisible:n}=(0,o.N)();return(0,s.jsx)("button",{type:"button",className:l,onClick:e=>{e.stopPropagation();let l=(0,h.qq)(a||[]);i(null==l?void 0:l.findIndex(e=>e.id===t)),n(!0)},"aria-label":r("post.attachments.open_gallery"),children:(0,s.jsx)(u,{className:"stroke-white"})})};var p=l(17488);let x=[p.r.EmbeddedVideo,p.r.Video],g=e=>(0,s.jsxs)("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,s.jsx)("path",{d:"M16.75 30.3334C8.84335 30.3334 2.41669 23.9067 2.41669 16.0001C2.41669 8.09342 8.84335 1.66675 16.75 1.66675C24.6567 1.66675 31.0834 8.09342 31.0834 16.0001C31.0834 23.9067 24.6567 30.3334 16.75 30.3334ZM16.75 3.66675C9.95002 3.66675 4.41669 9.20008 4.41669 16.0001C4.41669 22.8001 9.95002 28.3334 16.75 28.3334C23.55 28.3334 29.0834 22.8001 29.0834 16.0001C29.0834 9.20008 23.55 3.66675 16.75 3.66675Z",fill:"#FF5252"}),(0,s.jsx)("path",{d:"M16.75 18.3334C16.2033 18.3334 15.75 17.8801 15.75 17.3334V10.6667C15.75 10.1201 16.2033 9.66675 16.75 9.66675C17.2967 9.66675 17.75 10.1201 17.75 10.6667V17.3334C17.75 17.8801 17.2967 18.3334 16.75 18.3334Z",fill:"#FF5252"}),(0,s.jsx)("path",{d:"M16.75 22.6668C16.5767 22.6668 16.4034 22.6268 16.2434 22.5602C16.0834 22.4935 15.9367 22.4002 15.8034 22.2802C15.6834 22.1468 15.59 22.0135 15.5234 21.8402C15.4567 21.6802 15.4167 21.5068 15.4167 21.3335C15.4167 21.1602 15.4567 20.9868 15.5234 20.8268C15.59 20.6668 15.6834 20.5202 15.8034 20.3868C15.9367 20.2668 16.0834 20.1735 16.2434 20.1068C16.5634 19.9735 16.9367 19.9735 17.2567 20.1068C17.4167 20.1735 17.5634 20.2668 17.6967 20.3868C17.8167 20.5202 17.91 20.6668 17.9767 20.8268C18.0434 20.9868 18.0834 21.1602 18.0834 21.3335C18.0834 21.5068 18.0434 21.6802 17.9767 21.8402C17.91 22.0135 17.8167 22.1468 17.6967 22.2802C17.5634 22.4002 17.4167 22.4935 17.2567 22.5602C17.0967 22.6268 16.9234 22.6668 16.75 22.6668Z",fill:"#FF5252"})]}),C=e=>{let{className:t}=e,{t:l}=(0,d.Bd)();return(0,s.jsxs)("div",{className:(0,r.QP)("flex h-40 max-w-36 flex-col items-center justify-center gap-1 rounded-lg border border-darkgray-100 p-5",t),children:[(0,s.jsx)(g,{}),(0,s.jsx)("span",{className:"text-center text-sm text-lightgray-100",children:l("post.attachments.file_upload_failed")})]})},f=e=>{var t,l;let{attachment:a,className:i}=e;return(0,s.jsx)("div",{className:(0,r.QP)("size-full overflow-hidden rounded-lg",a.status===p.g.Uploading&&"bg-slate-100",i),children:(0,s.jsx)("img",{className:"size-full object-cover",src:null!==(t=a.previewUrl)&&void 0!==t?t:void 0,alt:null!==(l=a.previewUrl)&&void 0!==l?l:void 0})})},v=e=>{let{attachment:t,className:l}=e;return(0,s.jsx)("div",{className:(0,r.QP)("size-full overflow-hidden rounded-lg",t.status===p.g.Uploading&&"bg-slate-100",l),children:(0,s.jsx)("video",{className:"size-full object-cover",src:t.url},t.id)})},w=e=>{let{small:t=!1,type:l="light",className:a,style:i,iconClassName:n}=e;return(0,s.jsx)("div",{role:"status",className:a,style:i,children:(0,s.jsxs)("svg",{"aria-hidden":"true",className:(0,r.QP)("".concat(t?"size-5":"size-8","  ").concat(a," ").concat("light"===l?"fill-blue text-white":"fill-white text-darkblue"),n),fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"66",height:"66",viewBox:"0 0 66 66",children:[(0,s.jsx)("path",{d:"M44.7562 10.7663C44.7562 9.68413 43.8789 8.80688 42.7968 8.80688C41.7146 8.80688 40.8374 9.68413 40.8374 10.7663V55.2338C40.8374 56.3159 41.7146 57.1931 42.7968 57.1931C43.8789 57.1931 44.7562 56.3159 44.7562 55.2338V10.7663Z"}),(0,s.jsx)("path",{d:"M13.4062 14.6851C14.4883 14.6851 15.3655 15.5623 15.3655 16.6444V49.3557C15.3655 50.4378 14.4883 51.3151 13.4062 51.3151C12.324 51.3151 11.4468 50.4378 11.4468 49.3557V16.6444C11.4468 15.5623 12.324 14.6851 13.4062 14.6851Z"}),(0,s.jsx)("path",{d:"M3.60928 24.4819C4.6914 24.4819 5.56865 25.3592 5.56865 26.4413V39.5588C5.56865 40.641 4.6914 41.5182 3.60928 41.5182C2.52714 41.5182 1.6499 40.641 1.6499 39.5588V26.4413C1.6499 25.3592 2.52714 24.4819 3.60928 24.4819Z"}),(0,s.jsx)("path",{d:"M25.1624 24.4818C25.1624 23.3997 24.2852 22.5225 23.203 22.5225C22.1209 22.5225 21.2437 23.3997 21.2437 24.4818V41.5181C21.2437 42.6003 22.1209 43.4775 23.203 43.4775C24.2852 43.4775 25.1624 42.6003 25.1624 41.5181V24.4818Z"}),(0,s.jsx)("path",{d:"M32.9999 18.6038C34.0821 18.6038 34.9593 19.481 34.9593 20.5631V45.4369C34.9593 46.519 34.0821 47.3963 32.9999 47.3963C31.9177 47.3963 31.0405 46.519 31.0405 45.4369V20.5631C31.0405 19.481 31.9177 18.6038 32.9999 18.6038Z"}),(0,s.jsx)("path",{d:"M52.5937 18.6038C53.6758 18.6038 54.553 19.481 54.553 20.5631V45.4369C54.553 46.519 53.6758 47.3963 52.5937 47.3963C51.5115 47.3963 50.6343 46.519 50.6343 45.4369V20.5631C50.6343 19.481 51.5115 18.6038 52.5937 18.6038Z"}),(0,s.jsx)("path",{d:"M64.3499 22.5225C64.3499 21.4404 63.4727 20.5631 62.3905 20.5631C61.3084 20.5631 60.4312 21.4404 60.4312 22.5225V43.4775C60.4312 44.5596 61.3084 45.4369 62.3905 45.4369C63.4727 45.4369 64.3499 44.5596 64.3499 43.4775V22.5225Z"})]})})};function j(e){let{attachment:t,className:l,size:a="small"}=e;return(0,s.jsx)("div",{className:(0,r.QP)("flex size-full overflow-hidden rounded-lg",t.status===p.g.Uploading&&"bg-slate-100",l),children:t.status!==p.g.Uploading&&(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)(w,{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 md:size-8 lg:size-16"}),(0,s.jsx)("span",{className:"flex h-[90%] flex-col items-center justify-end text-xs text-lightgray-100",children:t.name})]})})}let b=e=>{let{attachment:t,className:l}=e;return(0,s.jsx)("div",{className:(0,r.QP)("size-full overflow-hidden rounded-lg",!t.previewUrl&&"bg-slate-100",l),children:!!t.previewUrl&&(0,s.jsx)("img",{src:t.previewUrl,alt:"",className:"size-full object-cover transition-all group-hover:scale-110"})})};function y(e){var t;let{attachment:l,className:a,size:i="small"}=e,n="small"===i&&null!==(t=l.previewUrl)&&void 0!==t?t:l.url;return(0,s.jsx)("div",{className:(0,r.QP)("size-full overflow-hidden rounded-lg",l.status===p.g.Uploading&&"bg-slate-100",a),children:!!n&&(0,s.jsx)("img",{src:n,alt:"",className:"size-full object-cover transition-all md:group-hover:scale-110"})})}let N=(e,t,l)=>{if(e.status===p.g.Failed)return(0,s.jsx)(C,{});switch(e.type){case p.r.Image:case p.r.EmbeddedImage:return(0,s.jsx)(y,{className:t,attachment:e,size:l});case p.r.EmbeddedVideo:return(0,s.jsx)(f,{className:t,attachment:e});case p.r.Video:return(0,s.jsx)(v,{className:t,attachment:e});case p.r.EmbeddedGif:return(0,s.jsx)(b,{attachment:e,className:t},e.id);case p.r.Audio:return(0,s.jsx)(j,{attachment:e,className:t});default:return null}};function k(e){return(0,s.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 11 11",fill:"none",...e,children:[(0,s.jsxs)("g",{clipPath:"url(#prefix__clip0_46038_1016)",fill:"#fff",children:[(0,s.jsx)("path",{d:"M7.017 3.985a.258.258 0 00-.257.258v4.869a.258.258 0 00.515 0v-4.87a.258.258 0 00-.258-.257zM3.977 3.985a.258.258 0 00-.257.258v4.869a.258.258 0 00.515 0v-4.87a.258.258 0 00-.258-.257z"}),(0,s.jsx)("path",{d:"M1.762 3.275v6.347c0 .375.137.727.378.98.239.253.572.397.92.398h4.874c.349 0 .682-.145.92-.398.241-.253.379-.605.379-.98V3.275A.984.984 0 008.98 1.34H7.661v-.322A1.012 1.012 0 006.641 0H4.354a1.012 1.012 0 00-1.02 1.018v.322h-1.32a.984.984 0 00-.252 1.935zm6.172 7.21H3.06c-.44 0-.783-.379-.783-.863V3.297h6.44v6.325c0 .484-.342.863-.783.863zM3.85 1.018a.496.496 0 01.505-.503H6.64a.496.496 0 01.505.503v.322H3.849v-.322zm-1.835.837H8.98a.464.464 0 110 .927H2.014a.464.464 0 110-.927z"}),(0,s.jsx)("path",{d:"M5.498 3.985a.258.258 0 00-.258.258v4.869a.258.258 0 00.515 0v-4.87a.258.258 0 00-.257-.257z"})]}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"prefix__clip0_46038_1016",children:(0,s.jsx)("path",{fill:"#fff",d:"M0 0h11v11H0z"})})})]})}function L(e){let t=(0,c.useId)(),{t:l}=(0,d.Bd)(),{removeAttachment:a}=(0,o.N)();return(0,s.jsxs)("button",{className:(0,r.QP)("rounded-full bg-red p-1",e.className),onClick:t=>{t.stopPropagation(),a(e.id)},"aria-labelledby":t,type:"button",children:[(0,s.jsx)("span",{id:t,hidden:!0,children:l("global.remove")}),(0,s.jsx)(k,{className:"size-5 text-white",fill:"CurrentColor"})]})}function V(e){let{className:t,previewClassName:l,size:d="small",attachment:c}=e,{isEditable:u}=(0,o.N)(),h=c.status===p.g.Uploading,g=c.status===p.g.Failed,C=x.includes(c.type)&&!h&&!g;return(0,s.jsxs)("div",{className:(0,r.QP)("group relative aspect-square size-24 overflow-hidden md:size-32",h&&"cursor-wait",t),children:[N(c,l,d),(0,s.jsx)("div",{"aria-hidden":!0,className:(0,r.Id)("absolute left-0 top-0 z-10 size-full rounded-lg bg-black opacity-0 transition-all",!h&&"md:group-hover:opacity-75")}),h&&c.type!==p.r.Audio&&(0,s.jsx)(i.a,{iconClassName:"size-16",className:"absolute left-1/2 top-1/2 size-16 -translate-x-1/2 -translate-y-1/2"}),h&&c.type===p.r.Audio&&(0,s.jsx)(a,{iconClassName:"h-16 w-16",className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 md:size-8 lg:size-16"}),C&&(0,s.jsx)(n,{className:"absolute left-1/2 top-1/2 z-10 w-10 -translate-x-1/2 -translate-y-1/2"}),!h&&(0,s.jsxs)(s.Fragment,{children:[!g&&c.type!==p.r.Audio&&(0,s.jsx)(m,{id:c.id,className:(0,r.Id)("absolute left-1/2 top-1/2 z-20 -translate-x-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100",u&&"hidden md:block")}),u&&(0,s.jsx)(L,{id:c.id,className:"absolute right-2 top-2 z-20 opacity-100 transition-all group-hover:top-2 group-hover:opacity-100 md:-top-2 md:opacity-0"})]})]})}},20186:(e,t,l)=>{l.d(t,{A:()=>x});var s=l(74848),r=l(62636),a=l(69162),i=l(96540),n=l(50856);function o(e){return(0,s.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",...e,children:(0,s.jsx)("path",{d:"M23.702 9.1L10.997 21.664a5.434 5.434 0 01-7.624 0 5.29 5.29 0 010-7.54L14.808 2.818a3.623 3.623 0 015.082 0 3.526 3.526 0 010 5.026L8.455 19.151a1.81 1.81 0 01-2.542 0 1.764 1.764 0 010-2.513L16.078 6.587l-1.27-1.257L4.643 15.382a3.526 3.526 0 000 5.026 3.623 3.623 0 005.082 0L21.16 9.101a5.29 5.29 0 000-7.54 5.434 5.434 0 00-7.624 0L1.467 13.499l.043.043a7.046 7.046 0 00.592 9.38c2.592 2.563 6.665 2.754 9.485.585l.044.044 13.34-13.193L23.703 9.1z",fill:"currentColor"})})}var d=l(32218);function c(e){var t;let{className:l,acceptTypes:r,icon:c,onSelect:u,onError:h,iconClassName:m,...p}=e,{t:x}=(0,a.Bd)(),g=(0,i.useId)(),C=async e=>{var t;let l=null===(t=e.target.files)||void 0===t?void 0:t[0];l&&(r&&!(0,d.x)(l.type,r)?null==h||h(x("file_selector.file_not_supported")):u(l)),e.target.value=""},f=null!==(t=p.id)&&void 0!==t?t:g;return(0,s.jsxs)("label",{htmlFor:f,className:(0,n.QP)("cursor-pointer font-medium",l),children:[(0,s.jsx)("input",{type:"file",className:"invisible absolute h-1 w-0",onChange:C,accept:null==r?void 0:r.join(","),id:f,...p}),(0,s.jsx)("span",{hidden:!0,children:x("global.upload_image")}),null!=c?c:(0,s.jsx)(o,{className:(0,n.QP)("size-6 text-darkblue",m)})]})}var u=l(53285),h=l(74590),m=l(17488);let p=d.U.imageExtensions.concat(d.U.videoExtension),x=e=>{let{className:t,iconClassName:l,acceptTypes:i=p}=e,{t:n}=(0,a.Bd)(),{addError:o,addAttachment:x,updateAttachment:g}=(0,u.N)(),{validateAndGetUploadOptions:C,uploadFile:f,activateFile:v}=(0,h.A)(),w=async e=>{let t=x({id:crypto.randomUUID(),status:m.g.Uploading,type:m.r.Video});try{let{id:l,uploadOptions:s}=await C({file:e});await f({file:e,uploadOptions:s});let r=await v(l);g(t,{dataFileId:l,status:m.g.Success,url:r[l].path})}catch(e){o(t,n("post.attachments.upload_failed"))}},j=async e=>{if(e.size>15e6){r.Ay.error(n("post.attachments.file_upload.size_limit_reached",{size:"".concat(15,"MB")}));return}let t=x({id:crypto.randomUUID(),status:m.g.Uploading,type:m.r.Image});try{let{id:l,uploadOptions:s}=await C({file:e});await f({file:e,uploadOptions:s});let r=await v(l);g(t,{dataFileId:l,status:m.g.Success,url:r[l].path})}catch(e){o(t,n("post.attachments.upload_failed"))}},b=async e=>{d.U.videoExtension.includes(e.type)?w(e):d.U.imageExtensions.includes(e.type)?j(e):r.Ay.error(n("post.attachments.file_upload.unsupported_type"))};return(0,s.jsx)(c,{className:t,iconClassName:l,onSelect:b,onError:e=>r.Ay.error(e),acceptTypes:i})}},73396:(e,t,l)=>{l.d(t,{RV:()=>i,V7:()=>s,_y:()=>a,en:()=>n,iz:()=>o,oT:()=>r,z:()=>d});let s="community",r="/api/data-files",a="".concat(r,"/validate-and-get-upload-options"),i="https://noembed.com/embed",n=/https?:\/\/[^.]+\.(wistia\.com|wi\.st)\/(medias|embed)\/.*/,o="https://fast.wistia.com/oembed",d="403 Forbidden"},74590:(e,t,l)=>{l.d(t,{A:()=>n});var s=l(94335),r=l(75526),a=l(68635),i=l(73396);let n=()=>{let{fetcher:e}=(0,r.e)({method:a.Z.post,badRequestHandler:()=>{},notFoundResponseHandler:()=>{}}),{fetcher:t,isFetching:l}=(0,r.e)({method:a.Z.post,badRequestHandler:()=>{},notFoundResponseHandler:()=>{}}),{fetcher:n}=(0,r.e)({method:a.Z.post,badRequestHandler:()=>{},notFoundResponseHandler:()=>{}});return{validateAndGetUploadOptions:async t=>{let{file:l,mimeType:s,signal:r}=t;return e(i._y,{source:i.V7,fileName:l.name,fileSize:l.size,mimeType:l.type||s,isCommon:!1},{signal:r})},uploadFile:async e=>{let{file:t,uploadOptions:l}=e;return s.A.postForm(l.url,{key:l.key,acl:l.acl,"X-Amz-Credential":l.credential,"X-Amz-Algorithm":l.algorithm,"X-Amz-Date":l.date,Policy:l.policy,"X-Amz-Signature":l.signature,"Content-Type":l.contentType,"Cache-Control":l.cacheControl,file:t})},activateFile:async e=>n("".concat(i.oT,"/").concat(e,"/activate-file"),{optimize:!0}),isUploading:l}}},76738:(e,t,l)=>{l.d(t,{RZ:()=>d,qq:()=>u,zd:()=>c});var s=l(13554),r=l.n(s),a=l(61224),i=l(73396),n=l(63624),o=l(17488);let d=e=>a.tf.isLoomUrl(e)||r().canPlay(e),c=e=>{let t=a.tf.isLoomUrl(e),l=i.en.test(e);return t?(0,a.ZX)(e):l?(0,n.b)("".concat(i.iz,"?url=").concat(e)):(0,n.b)("".concat(i.RV,"?url=").concat(e))},u=e=>e.filter(e=>e.type!==o.r.Audio)},69724:(e,t,l)=>{l.d(t,{I:()=>i});var s=l(74848),r=l(96540),a=l(50856);let i=(0,r.forwardRef)((e,t)=>{let{children:l,format:r="",active:i=!1,onClick:n,...o}=e;return(0,s.jsx)("button",{ref:t,className:(0,a.QP)("inline-block cursor-pointer border-none bg-[initial] text-sm font-bold leading-normal text-lightgray outline-none [&:hover>svg]:text-[initial]",i&&"text-[initial]"),title:r,onClick:n,...o,children:l})});i.displayName="ToolbarButton"},97366:(e,t,l)=>{l.d(t,{p:()=>g});var s=l(74848),r=l(99269),a=l(96540),i=l(50991),n=l(14953),o=l.n(n),d=l(50856),c=l(21576),u=l(19517);let h=function(e){return(0,s.jsxs)("svg",{width:"21",height:"21",viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,s.jsx)("path",{d:"M10.1667 19.3333C5.10392 19.3333 1 15.2294 1 10.1667C1 5.10392 5.10392 1 10.1667 1C15.2294 1 19.3333 5.10392 19.3333 10.1667C19.3333 15.2294 15.2294 19.3333 10.1667 19.3333Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M14.2915 12.4583C14.2915 12.4583 12.9165 14.2916 10.1665 14.2916C7.4165 14.2916 6.0415 12.4583 6.0415 12.4583",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M13.375 7.41667C13.2534 7.41667 13.1369 7.36838 13.0509 7.28242C12.965 7.19647 12.9167 7.07989 12.9167 6.95833C12.9167 6.83678 12.965 6.7202 13.0509 6.63424C13.1369 6.54829 13.2534 6.5 13.375 6.5C13.4966 6.5 13.6131 6.54829 13.6991 6.63424C13.785 6.7202 13.8333 6.83678 13.8333 6.95833C13.8333 7.07989 13.785 7.19647 13.6991 7.28242C13.6131 7.36838 13.4966 7.41667 13.375 7.41667ZM6.95833 7.41667C6.83678 7.41667 6.7202 7.36838 6.63424 7.28242C6.54829 7.19647 6.5 7.07989 6.5 6.95833C6.5 6.83678 6.54829 6.7202 6.63424 6.63424C6.7202 6.54829 6.83678 6.5 6.95833 6.5C7.07989 6.5 7.19647 6.54829 7.28242 6.63424C7.36838 6.7202 7.41667 6.83678 7.41667 6.95833C7.41667 7.07989 7.36838 7.19647 7.28242 7.28242C7.19647 7.36838 7.07989 7.41667 6.95833 7.41667Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})};var m=l(69724);let p=()=>(0,s.jsx)("div",{className:"flex size-64 items-center justify-center rounded-lg bg-white shadow-xl",children:(0,s.jsx)(c.a,{})}),x=o()(()=>Promise.all([l.e(8179),l.e(74839)]).then(l.bind(l,74839)),{loadableGenerated:{webpack:()=>[74839]},loading:()=>(0,s.jsx)(p,{})}),g=e=>{let{onEmojiSelect:t,pickerClassName:l="",iconClassName:n=""}=e,o=(0,r.S)(),[c,g]=(0,a.useState)(!1),[C,f]=(0,a.useState)(null),[v,w]=(0,a.useState)(null),[j,b]=(0,a.useState)(null),{styles:y,attributes:N}=(0,i.E)(C,v,{placement:"top",strategy:"fixed",modifiers:[{name:"flip",options:{fallbackPlacements:["top","bottom"]}},{name:"offset",options:{offset:[0,6]}}]}),k=(0,a.useCallback)(()=>{g(e=>!e)},[]);(0,u.L)(k,null,[v,C]);let L=async()=>{if(!j)try{let e=await fetch("https://cdn.jsdelivr.net/npm/@emoji-mart/data");b(await e.json())}catch(e){o.error("Failed to load emoji picker",e)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.I,{ref:f,type:"button",className:"hidden md:block",children:(0,s.jsx)(h,{className:(0,d.QP)("cursor-pointer text-lightgray hover:text-darkblue",n),onClick:k,onMouseEnter:L})}),c&&(0,s.jsx)("div",{ref:w,style:{...y.popper,zIndex:100},className:l,...N.popper,children:j?(0,s.jsx)(x,{data:j,onEmojiSelect:e=>{t(e),g(!1)}}):(0,s.jsx)(p,{})})]})}},39419:(e,t,l)=>{l.d(t,{Z:()=>o});var s=l(92177),r=l(63927),a=l(75526),i=l(68635);let n=(e,t,l)=>{let s=new URLSearchParams;return l&&s.append("displayNameSearchBy",l),t&&s.append("postId",t.toString()),"".concat(r.mv,"/").concat(e,"/get-members-for-mention?").concat(s.toString())},o=e=>{let{communityPath:t,postId:l,displayNameSearchBy:r,config:o}=e,{fetcher:d}=(0,a.e)({method:i.Z.get});return(0,s.Ay)(()=>t?n(t,l,r):null,d,o)}},88718:(e,t,l)=>{l.d(t,{V:()=>M});var s=l(74848),r=l(11234),a=l(69130),i=l(96540),n=l(69162),o=l(50856),d=l(86248),c=l(84072),u=l(35550),h=l(37477);let m=function(e){return(0,s.jsxs)("svg",{width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,s.jsx)("path",{d:"M9.11035 6.12219V10.3907L12.5252 12.0981",stroke:"#98A2B3"}),(0,s.jsx)("path",{d:"M1 3.98804V6.97601H4.41483",stroke:"#98A2B3"}),(0,s.jsx)("path",{d:"M1.42676 6.69423L2.37437 5.74662C3.06734 4.3236 4.14635 3.12401 5.48828 2.28474C6.83022 1.44546 8.38105 1.00028 9.96383 1C11.5294 0.998553 13.0653 1.42764 14.4034 2.24034C15.7415 3.05304 16.8304 4.21806 17.5509 5.60798C18.2715 6.99789 18.5959 8.55918 18.4888 10.1211C18.3817 11.683 17.8472 13.1854 16.9436 14.464C16.0401 15.7425 14.8024 16.748 13.3659 17.3704C11.9294 17.9929 10.3493 18.2083 8.79859 17.9932C7.24786 17.778 5.78615 17.1406 4.57332 16.1506C3.36049 15.1606 2.44325 13.8562 1.92191 12.3799",stroke:"#98A2B3"})]})},p=function(e){return(0,s.jsx)("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,s.jsx)("path",{d:"M14.8086 1.32812H13.2812V0.53125C13.2812 0.237867 13.0434 0 12.75 0C12.4566 0 12.2188 0.237867 12.2188 0.53125V1.32812H4.78125V0.53125C4.78125 0.237867 4.54342 0 4.25 0C3.95658 0 3.71875 0.237867 3.71875 0.53125V1.32812H2.19141C0.983045 1.32812 0 2.31117 0 3.51953V14.8086C0 16.017 0.983045 17 2.19141 17H14.8086C16.017 17 17 16.017 17 14.8086V3.51953C17 2.31117 16.017 1.32812 14.8086 1.32812ZM2.19141 2.39062H3.71875V2.92188C3.71875 3.21526 3.95658 3.45312 4.25 3.45312C4.54342 3.45312 4.78125 3.21526 4.78125 2.92188V2.39062H12.2188V2.92188C12.2188 3.21526 12.4566 3.45312 12.75 3.45312C13.0434 3.45312 13.2812 3.21526 13.2812 2.92188V2.39062H14.8086C15.4311 2.39062 15.9375 2.89704 15.9375 3.51953V4.78125H1.0625V3.51953C1.0625 2.89704 1.56891 2.39062 2.19141 2.39062ZM14.8086 15.9375H2.19141C1.56891 15.9375 1.0625 15.4311 1.0625 14.8086V5.84375H15.9375V14.8086C15.9375 15.4311 15.4311 15.9375 14.8086 15.9375Z",fill:"#98A2B3"})})},x=function(e){return(0,s.jsxs)("svg",{width:"20",height:"16",viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,s.jsx)("path",{d:"M1.511 3.18301C1.19162 2.97021 1 2.61215 1 2.22863V2.22767C1 1.54967 1.54968 1.00002 2.22773 1.00002H18.197C18.875 1.00002 19.4246 1.54967 19.4246 2.22767V2.22829V2.22863C19.4246 2.61215 19.2331 2.97021 18.9137 3.18301C17.3553 4.22217 12.6594 7.3525 10.8937 8.52985C10.481 8.80499 9.94363 8.80499 9.53095 8.52985C7.76524 7.3525 3.06942 4.22217 1.511 3.18301Z",stroke:"#98A2B3"}),(0,s.jsx)("path",{d:"M1 2.22838V13.2832C1 13.609 1.12928 13.9213 1.35989 14.1516C1.5902 14.3822 1.90251 14.5115 2.2283 14.5115H18.1963C18.5221 14.5115 18.8344 14.3822 19.0647 14.1516C19.2954 13.9213 19.4246 13.609 19.4246 13.2832V2.22838",stroke:"#98A2B3"})]})};var g=l(97478);let C=(e,t,l)=>(new Date(e).getTime()-new Date(t).getTime())/1e3/g.uN[l];var f=l(76147),v=l(60529);let w=()=>(0,s.jsxs)("div",{className:"flex size-full flex-col items-start gap-10 p-[30px] sm:min-h-[250px] sm:w-[500px] sm:flex-row",children:[(0,s.jsx)("div",{className:"size-40 min-h-[160px] min-w-[160px] rounded-full bg-gray"}),(0,s.jsxs)("div",{className:"flex w-full grow flex-col gap-3",children:[(0,s.jsxs)("div",{className:"flex w-full flex-row gap-2",children:[(0,s.jsx)("div",{className:"h-9 basis-1/2 rounded-sm bg-gray"}),(0,s.jsx)("div",{className:"h-9 basis-1/2 rounded-sm bg-gray"})]}),(0,s.jsx)("div",{className:"h-5 rounded-sm bg-gray"}),(0,s.jsx)("div",{className:"h-5 rounded-sm bg-gray"}),(0,s.jsx)("div",{className:"h-5 rounded-sm bg-gray"})]})]});var j=l(86715),b=l(92177),y=l(63927),N=l(75526),k=l(68635),L=l(24073);let V=(e,t,l)=>e.length>l&&!t?e.slice(0,l):e,M=e=>{let{children:t,userId:l,className:g}=e,{t:M}=(0,n.Bd)(),{user:A}=(0,h.Ay)(),{show:z,delayClose:E,delayOpen:_,close:H,open:S}=(0,u.k)({openDelay:600}),{data:B}=function(e){let{userId:t,shouldFetch:l=!0}=e,{communityPath:s}=(0,j.useRouter)().query,{fetcher:r}=(0,N.e)({method:k.Z.get,notFoundResponseHandler:()=>{}}),{data:a,mutate:i}=(0,b.Ay)(l&&"".concat(y.mv,"/").concat(s,"/get-profile-info/").concat(t),r);return{data:a,mutate:i}}({userId:l,shouldFetch:z}),[U,I]=(0,i.useState)(!1),Z=null!=B&&!!B.lastActiveAt&&5>=C(Date.now(),B.lastActiveAt,"minute");return(0,s.jsx)(a.AM,{onClick:e=>{e.stopPropagation()},className:(0,o.QP)("truncate",g),children:(0,s.jsxs)(r.nt,{show:z,offset:10,portal:!0,shift:!0,autoPlacement:!0,arrow:!0,enter:"transition duration-100 ease-out",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition duration-75 ease-in",leaveFrom:"opacity-100",leaveTo:"opacity-0",className:"flex h-full items-center",children:[(0,s.jsx)(a.ut,{onMouseEnter:_,onMouseLeave:E,onClick:z?H:S,className:"flex h-fit w-full items-center justify-around gap-2.5 focus:outline-none",children:t}),(0,s.jsx)(a.QT,{onMouseEnter:_,onMouseLeave:E,className:"flex flex-col rounded-lg bg-white text-sm shadow-lg",children:B?(0,s.jsxs)("div",{className:"flex size-full flex-col items-start gap-3 px-3 py-5 sm:min-h-[250px] sm:w-[500px] sm:flex-row",children:[(0,s.jsx)("img",{src:B.profileImageUrl,alt:B.displayName,className:"size-40 rounded-full",width:160,height:160}),(0,s.jsxs)("div",{className:"flex w-full grow flex-col gap-3",children:[(0,s.jsx)("div",{className:"max-w-[304px] overflow-hidden text-ellipsis break-words",children:(0,s.jsx)("h3",{className:"line-clamp-2 max-w-full text-3xl",children:B.displayName})}),Z?(0,s.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,s.jsx)("div",{className:"size-[12px] rounded-full bg-green"}),(0,s.jsx)("span",{children:M("community.user_info.active_now")})]}):!!B.lastActiveAt&&(0,s.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,s.jsx)(m,{}),(0,s.jsx)("span",{className:"text-base font-normal text-lightgray-500",children:M("community.user_info.last_activity_at",{date:(0,f._)(new Date(B.lastActiveAt),{locale:null==A?void 0:A.dashboardLocale})})})]}),!!(null==B?void 0:B.createdAt)&&(0,h.NP)(A)&&(0,s.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,s.jsx)(p,{}),(0,s.jsxs)("span",{className:"text-base font-normal text-lightgray-500",children:[M("members.list.member.joined")," ",(0,L.i$)(B.createdAt,{dateFormat:null==A?void 0:A.dateFormat})]})]}),!!(null==B?void 0:B.email)&&(0,s.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,s.jsx)(x,{}),(0,s.jsx)("a",{href:"mailto:".concat(B.email),className:"text-base font-normal text-lightgray-500",title:B.email,children:B.email})]}),!!(null==B?void 0:B.bio)&&(0,s.jsx)("div",{className:"flex flex-col items-start",children:(0,s.jsxs)("span",{className:"max-w-[304px] whitespace-normal break-words text-base font-normal leading-6 text-lightgray-100",children:[V(B.bio,U,95),B.bio.length>95&&(0,s.jsxs)("button",{className:"text-base font-normal text-blue",onClick:()=>I(!U),children:["...",M(U?"community.user_info.hide.button":"community.user_info.readmore.button")]})]})}),(null==B?void 0:B.contactId)&&(0,s.jsx)(c.A,{href:(0,v.M)(B.contactId),target:"_blank",rel:"noreferrer",children:(0,s.jsx)(d.SC,{className:"w-full",onClick:e=>{e.stopPropagation()},children:M("community.user_info.open_contact_page")})})]})]}):(0,s.jsx)(w,{})})]})})}},97620:(e,t,l)=>{l.d(t,{Mb:()=>m,_V:()=>c,bc:()=>d,kU:()=>p,qj:()=>h,wh:()=>u});var s=l(84074),r=l.n(s),a=l(69101),i=l(20265),n=l(67561);let o=["numbered-list","bulleted-list"],d=(e,t)=>{m(e),a.gB.insertNodes(e,{text:t})},c=(e,t)=>{let l=a.KE.marks(e);return!!l&&!0===l[t]},u=(e,t)=>{c(e,t)?a.KE.removeMark(e,t):a.KE.addMark(e,t,!0)},h=(e,t)=>{let l;let s=(0,n._)(e,t),r=o.includes(t);a.gB.unwrapNodes(e,{match:e=>!a.KE.isEditor(e)&&a.Hg.isElement(e)&&o.includes(e.type),split:!0}),l={type:s?"paragraph":r?"list-item":t},a.gB.setNodes(e,l),!s&&r&&a.gB.wrapNodes(e,{type:t,children:[]})},m=e=>{if(a.EY.isText(e)){let t=r().sanitize(e.text);return e.underline&&(t=t.trim()?"<u>".concat(t,"</u>"):""),e.italic&&(t=t.trim()?"<em>".concat(t,"</em>"):""),e.bold&&(t=t.trim()?"<strong>".concat(t,"</strong>"):""),t}let t=e.children.map(e=>m(e)).join("");switch(e.type){case"paragraph":return t.trim()?"<p>".concat(t,"</p>"):"<br>";case"link":return t.trim()?'<a href="'.concat(e.url,'" class="text-decoration-line: underline text-blue" target="_blank">').concat(t,"</a>"):"";case"image":return'<img src="'.concat(e.url,'">').concat(t,"</img>");case"bulleted-list":return t.trim()?'<ul class="list-disc pl-5">'.concat(t,"</ul>"):"";case"numbered-list":return t.trim()?'<ol class="list-decimal pl-5">'.concat(t,"</ol>"):"";case"list-item":return t.trim()?"<li>".concat(t,"</li>"):"";case"mention":return e.displayName.trim()?"<@".concat(e.id,":").concat(e.displayName,">"):"";default:return t}},p=(e,t)=>(function e(t,l){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.nodeType===Node.TEXT_NODE){let e;let r=t.textContent||"",a=/<@(\d+):([^>]+)>/g,n=0,o=[];for(;null!==(e=a.exec(r));){if(e.index>n){let t=r.substring(n,e.index);o.push((0,i.Y)("text",s,t))}let t=Number(e[1]),d=e[2],c=null==l?void 0:l.find(e=>e.userId===t&&e.displayName===d);c?o.push((0,i.Y)("element",{type:"mention",id:c.userId,displayName:c.displayName,profileImageUrl:c.profileImage},[{text:""}])):o.push((0,i.Y)("text",s,e[0])),n=a.lastIndex}if(n<r.length){let e=r.substring(n);o.push((0,i.Y)("text",s,e))}return o}if(t.nodeType!==Node.ELEMENT_NODE)return null;let r={...s};switch(t.nodeName){case"STRONG":r.bold=!0;break;case"EM":r.italic=!0;break;case"U":r.underline=!0}let a=Array.from(t.childNodes).map(t=>e(t,l,r)).flat();switch(0===a.length&&a.push((0,i.Y)("text",r,"")),t.nodeName){case"BODY":return(0,i.Y)("fragment",{},a);case"P":case"BR":return(0,i.Y)("element",{type:"paragraph"},a);case"A":return(0,i.Y)("element",{type:"link",url:t.getAttribute("href")},a);case"IMG":return(0,i.Y)("element",{type:"image",url:t.getAttribute("src")},a);case"UL":return(0,i.Y)("element",{type:"bulleted-list"},a);case"OL":return(0,i.Y)("element",{type:"numbered-list"},a);case"LI":return(0,i.Y)("element",{type:"list-item"},a);default:return a}})(new DOMParser().parseFromString(e,"text/html").body,t)},17488:(e,t,l)=>{l.d(t,{g:()=>r,r:()=>s});var s=function(e){return e.Image="image_upload",e.Video="video_upload",e.Audio="audio_upload",e.EmbeddedVideo="video_link",e.EmbeddedImage="image_link",e.EmbeddedGif="gif_link",e}({}),r=function(e){return e.Uploading="Uploading",e.Success="Uploaded",e.Failed="Failed",e}({})},63094:(e,t,l)=>{l.d(t,{E:()=>a,P:()=>r});var s=l(17488);let r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(e=>{switch(e.type){case s.r.Image:case s.r.Video:return{type:e.type,dataFileId:e.dataFileId};case s.r.EmbeddedVideo:case s.r.EmbeddedGif:return{type:e.type,url:e.url,previewUrl:e.previewUrl};case s.r.Audio:return{type:e.type,dataFileId:e.dataFileId};default:return e}})},a=e=>{var t;return null!==(t=null==e?void 0:e[0])&&void 0!==t?t:null}},67561:(e,t,l)=>{l.d(t,{_:()=>r});var s=l(69101);let r=(e,t)=>{let[l]=s.KE.nodes(e,{match:e=>!s.KE.isEditor(e)&&s.Hg.isElement(e)&&e.type===t});return!!l}},61038:(e,t,l)=>{l.d(t,{Ck:()=>i,wk:()=>n});var s=l(15507),r=l(69101),a=l(67561);let i=(e,t)=>{if(!e.selection){let t=r.KE.end(e,[]);t&&r.gB.select(e,t)}o(e,t),s.rL.focus(e)},n=e=>{r.gB.unwrapNodes(e,{match:e=>!r.KE.isEditor(e)&&r.Hg.isElement(e)&&"link"===e.type})},o=(e,t)=>{(0,a._)(e,"link")&&n(e);let{selection:l}=e,s=l&&r.Q6.isCollapsed(l),i={type:"link",url:t,children:s?[{text:t}]:[]};s?(r.gB.insertNodes(e,i),r.gB.move(e,{unit:"offset"}),r.gB.insertNodes(e,{text:" "})):(r.gB.wrapNodes(e,i,{split:!0}),r.gB.collapse(e,{edge:"end"}),r.gB.move(e,{unit:"offset"}))}},38807:(e,t,l)=>{l.d(t,{A:()=>i});var s=l(74848),r=l(49785),a=l(70996);function i(e){let{control:t,name:l,rules:i,setValue:n,afterChange:o,...d}=e,c=e=>{let{target:{value:t}}=e;n(l,t),null==o||o(t)};return(0,s.jsx)(r.xI,{control:t,name:l,rules:i,render:e=>{let{field:t}=e;return(0,s.jsx)(a.A,{...d,name:l,value:t.value,onChange:c})}})}},13189:(e,t,l)=>{l.d(t,{M:()=>r});var s=l(96540);function r(){let[e,t]=(0,s.useState)(!1),l=(0,s.useRef)(null),r=(0,s.useCallback)(()=>t(!0),[]),a=(0,s.useCallback)(()=>t(!1),[]);return(0,s.useEffect)(()=>{if(l.current)return l.current.addEventListener("mouseenter",r),l.current.addEventListener("mouseleave",a),()=>{var e,t;null===(e=l.current)||void 0===e||e.removeEventListener("mouseenter",r),null===(t=l.current)||void 0===t||t.removeEventListener("mouseleave",a)}},[]),{ref:l,hovered:e}}},55687:(e,t,l)=>{l.d(t,{A:()=>r});var s=l(96540);function r(e){let[t,l]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{if(e.current){let t=new IntersectionObserver(e=>{let[t]=e;return l(t.isIntersecting)});return t.observe(e.current),()=>{t.disconnect()}}},[]),t}},49939:(e,t,l)=>{l.d(t,{A:()=>r});var s=l(74848);l(96540);let r=function(e){return(0,s.jsx)("svg",{width:"15",height:"9",viewBox:"0 0 15 9",fill:"none",stroke:"#142D63",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,s.jsx)("path",{d:"M1.5 1.5L7.5 7.5L13.5 1.5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}},41054:(e,t,l)=>{l.d(t,{A:()=>r});var s=l(74848);l(96540);let r=function(e){return(0,s.jsxs)("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,s.jsx)("path",{d:"M13.5 8.5H2.5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M7 4L2.5 8.5L7 13",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}},95703:(e,t,l)=>{l.d(t,{A:()=>r});var s=l(74848);l(96540);let r=function(e){return(0,s.jsx)("svg",{width:"16",height:"13",viewBox:"0 0 16 13",fill:"none",stroke:"white",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,s.jsx)("path",{d:"M0.999756 7.84424L4.99976 11.8442L14.9998 1.84424",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}},67061:(e,t,l)=>{l.d(t,{A:()=>r});var s=l(74848);l(96540);let r=function(e){return(0,s.jsx)("svg",{width:"9",height:"5",viewBox:"0 0 9 5",fill:"CurrentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.54022 0.210728C8.297 -0.0324822 7.90225 -0.0324822 7.65841 0.210728L4.79847 3.07067C4.55214 3.30702 4.163 3.30702 3.91667 3.07067L1.05673 0.210728C0.809153 -0.0287422 0.414402 -0.0218822 0.174922 0.226318C-0.0583075 0.467658 -0.0583075 0.850568 0.174922 1.09253L3.03424 3.95247C3.7645 4.68336 4.94939 4.68336 5.68028 3.95247V3.95247L8.54022 1.09253C8.78343 0.848688 8.78343 0.453938 8.54022 0.210718V0.210728Z"})})}},14947:(e,t,l)=>{l.d(t,{A:()=>r});var s=l(74848);l(96540);let r=function(e){return(0,s.jsx)("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,s.jsxs)("g",{children:[(0,s.jsx)("path",{d:"M1.22093 25C0.979466 25 0.743411 24.9285 0.542626 24.7943C0.34184 24.6602 0.185345 24.4695 0.0929338 24.2465C0.000522908 24.0234 -0.0236515 23.7779 0.0234685 23.5411C0.0705884 23.3042 0.186886 23.0867 0.35765 22.916L22.9162 0.357407C23.1452 0.128451 23.4557 -0.000175476 23.7795 -0.000175476C24.1033 -0.000175476 24.4138 0.128451 24.6428 0.357407C24.8718 0.586364 25.0004 0.896895 25.0004 1.22069C25.0004 1.54448 24.8718 1.85501 24.6428 2.08397L2.08421 24.6426C1.97095 24.7561 1.83638 24.8461 1.68823 24.9074C1.54008 24.9687 1.38128 25.0002 1.22093 25Z"}),(0,s.jsx)("path",{d:"M23.7795 25C23.6191 25.0002 23.4603 24.9687 23.3122 24.9074C23.164 24.8461 23.0294 24.7561 22.9162 24.6426L0.357583 2.08397C0.128626 1.85501 0 1.54448 0 1.22069C0 0.896895 0.128626 0.586364 0.357583 0.357407C0.586539 0.128451 0.897071 -0.000175476 1.22086 -0.000175476C1.54466 -0.000175476 1.85519 0.128451 2.08415 0.357407L24.6427 22.916C24.8135 23.0867 24.9298 23.3042 24.9769 23.5411C25.024 23.7779 24.9999 24.0234 24.9075 24.2465C24.815 24.4695 24.6585 24.6602 24.4578 24.7943C24.257 24.9285 24.0209 25 23.7795 25Z"})]})})}},19631:(e,t,l)=>{l.d(t,{A:()=>r});var s=l(74848);function r(e){return(0,s.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,s.jsx)("path",{fill:"CurrentColor",d:"M16.5 16.9043H1.5M14 8.57096L9 13.571M9 13.571L4 8.57096M9 13.571V1.9043",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}},33225:(e,t,l)=>{l.d(t,{A:()=>r});var s=l(74848);l(96540);let r=function(e){return(0,s.jsx)("svg",{width:"3",height:"3",viewBox:"0 0 4 4",fill:"CurrentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,s.jsx)("circle",{opacity:"0.4",cx:"2",cy:"2",r:"2",fill:"CurrentColor"})})}},27579:(e,t,l)=>{l.d(t,{A:()=>r});var s=l(74848);l(96540);let r=function(e){return(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[(0,s.jsx)("path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}),(0,s.jsx)("path",{d:"m15 5 4 4"})]})}},66104:(e,t,l)=>{l.d(t,{A:()=>r});var s=l(74848);let r=e=>(0,s.jsx)("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,s.jsx)("path",{d:"M10.9161 3.15033L7.82126 0.0831271C7.70954 -0.027709 7.52813 -0.027709 7.41641 0.0831271L7.40329 0.0961232C7.21352 0.284142 7.10896 0.534247 7.10896 0.800185C7.10896 0.971518 7.15288 1.13593 7.23448 1.28172L3.99623 4.03605C3.74839 3.81654 3.43207 3.6964 3.09702 3.6964C2.73597 3.6964 2.39657 3.83572 2.14135 4.08872L2.12193 4.10796C2.0101 4.21874 2.0101 4.39841 2.12193 4.50919L3.97601 6.3467L2.17026 8.13625C2.13413 8.17308 1.27941 9.04598 0.717488 9.74062C0.18236 10.402 0.0765369 10.5231 0.0710396 10.5294C-0.0283127 10.6415 -0.0228154 10.8106 0.083523 10.9165C0.13924 10.972 0.21271 11 0.286408 11C0.353578 11 0.42092 10.9767 0.475091 10.9298C0.479844 10.9257 0.599296 10.8228 1.27094 10.2891C1.97173 9.73222 2.8525 8.88509 2.89253 8.84644L4.69536 7.05973L6.45014 8.79883C6.50603 8.85427 6.57933 8.88197 6.65257 8.88197C6.72581 8.88197 6.79916 8.85427 6.85499 8.79883L6.87441 8.77959C7.12969 8.52665 7.27027 8.19022 7.27027 7.83246C7.27027 7.50041 7.14898 7.18691 6.92755 6.94129L9.70672 3.73198C9.85383 3.81285 10.0197 3.85638 10.1926 3.85638C10.461 3.85638 10.7133 3.75281 10.903 3.56467L10.9161 3.55168C11.028 3.44079 11.028 3.26111 10.9161 3.15033Z",fill:"currentColor"})})},10954:(e,t,l)=>{l.d(t,{A:()=>a,K:()=>r});var s=l(74848);function r(e){return(0,s.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"white",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5606 3.06065L10.9393 0.43934C10.658 0.15804 10.2765 0 9.87869 0H1.5C0.67156 0 0 0.67156 0 1.5V12.5C0 13.3284 0.67156 14 1.5 14H12.5C13.3284 14 14 13.3284 14 12.5V4.12132C14 3.7235 13.842 3.34197 13.5607 3.06067L13.5606 3.06065ZM7 12C5.89544 12 5 11.1046 5 9.99999C5 8.89543 5.89544 7.99999 7 7.99999C8.10456 7.99999 9 8.89543 9 9.99999C9 11.1046 8.10456 12 7 12ZM10 2.48374V5.62499C10 5.83208 9.83209 5.99999 9.625 5.99999H2.375C2.16791 5.99999 2 5.83208 2 5.62499V2.37499C2 2.1679 2.16791 1.99999 2.375 1.99999H9.51625C9.61572 1.99999 9.71109 2.03949 9.78141 2.10983L9.89016 2.21858C9.9605 2.28889 10 2.38428 10 2.48374Z"})})}l(96540);let a=function(e){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:"19",height:"16",...e,children:(0,s.jsx)("path",{d:"M433.1 129.1l-83.9-83.9C342.3 38.32 327.1 32 316.1 32H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h320c35.35 0 64-28.65 64-64V163.9C448 152.9 441.7 137.7 433.1 129.1zM224 416c-35.34 0-64-28.66-64-64s28.66-64 64-64s64 28.66 64 64S259.3 416 224 416zM320 208C320 216.8 312.8 224 304 224h-224C71.16 224 64 216.8 64 208v-96C64 103.2 71.16 96 80 96h224C312.8 96 320 103.2 320 112V208z"})})}},32337:(e,t,l)=>{l.d(t,{A:()=>r});var s=l(74848);l(96540);let r=function(e){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",...e,children:(0,s.jsx)("path",{d:"M135.2 17.69C140.6 6.848 151.7 0 163.8 0H284.2C296.3 0 307.4 6.848 312.8 17.69L320 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H128L135.2 17.69zM31.1 128H416V448C416 483.3 387.3 512 352 512H95.1C60.65 512 31.1 483.3 31.1 448V128zM111.1 208V432C111.1 440.8 119.2 448 127.1 448C136.8 448 143.1 440.8 143.1 432V208C143.1 199.2 136.8 192 127.1 192C119.2 192 111.1 199.2 111.1 208zM207.1 208V432C207.1 440.8 215.2 448 223.1 448C232.8 448 240 440.8 240 432V208C240 199.2 232.8 192 223.1 192C215.2 192 207.1 199.2 207.1 208zM304 208V432C304 440.8 311.2 448 320 448C328.8 448 336 440.8 336 432V208C336 199.2 328.8 192 320 192C311.2 192 304 199.2 304 208z"})})}},57574:(e,t,l)=>{l.d(t,{A:()=>r});var s=l(74848);l(96540);let r=function(e){return(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[(0,s.jsx)("path",{d:"M3 6h18"}),(0,s.jsx)("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),(0,s.jsx)("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),(0,s.jsx)("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),(0,s.jsx)("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]})}},140:(e,t,l)=>{l.d(t,{A:()=>r});var s=l(74848);l(96540);let r=function(e){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",width:"20",height:"14",...e,children:(0,s.jsx)("path",{d:"M185.7 120.3C242.5 75.82 324.7 79.73 376.1 131.1C420.1 175.1 430.9 239.6 406.7 293.5L438.6 318.4L534.5 222.5C566 191 566 139.1 534.5 108.5C506.7 80.63 462.7 76.1 430.7 99.9L429.1 101C414.7 111.3 394.7 107.1 384.5 93.58C374.2 79.2 377.5 59.21 391.9 48.94L393.5 47.82C451 6.732 529.8 13.25 579.8 63.24C636.3 119.7 636.3 211.3 579.8 267.7L489.3 358.2L630.8 469.1C641.2 477.3 643.1 492.4 634.9 502.8C626.7 513.2 611.6 515.1 601.2 506.9L9.196 42.89C-1.236 34.71-3.065 19.63 5.112 9.196C13.29-1.236 28.37-3.065 38.81 5.112L185.7 120.3zM238.1 161.1L353.4 251.7C359.3 225.5 351.7 197.2 331.7 177.2C306.6 152.1 269.1 147 238.1 161.1V161.1zM263 380C233.1 350.1 218.7 309.8 220.9 270L406.6 416.4C357.4 431 301.9 418.9 263 380V380zM116.6 187.9L167.2 227.8L105.5 289.5C73.99 320.1 73.99 372 105.5 403.5C133.3 431.4 177.3 435 209.3 412.1L210.9 410.1C225.3 400.7 245.3 404 255.5 418.4C265.8 432.8 262.5 452.8 248.1 463.1L246.5 464.2C188.1 505.3 110.2 498.7 60.21 448.8C3.741 392.3 3.741 300.7 60.21 244.3L116.6 187.9z"})})}},32218:(e,t,l)=>{l.d(t,{U:()=>s,x:()=>r});let s={image:["image/*"],video:["video/*"],videoExtension:["video/x-msvideo","video/mp4","video/mpeg","video/ogg","video/webm"],imageExtensions:["image/jpeg","image/png","image/webp"],audioExtensions:["audio/mpeg","audio/wav","audio/aac","audio/ogg","audio/webm"],all:["image/*","video/*","audio/*","application/*","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","application/vnd.apple.numbers","application/pdf","text/*"]},r=(e,t)=>t.some(t=>RegExp(t).test(e))},8583:(e,t,l)=>{l.d(t,{n:()=>s});let s=()=>{let e=navigator.userAgent.indexOf("Chrome")>-1;return navigator.userAgent.indexOf("Safari")>-1&&!e}}}]);
//# sourceMappingURL=84668-7fb4b0c1cf688fab.js.map