(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91994],{58915:(e,t,o)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/school/course/[coursePath]/lecture/[lectureId]",function(){return o(25426)}])},25426:(e,t,o)=>{"use strict";o.r(t),o.d(t,{__N_SSP:()=>G,default:()=>J});var r=o(74848),n=o(96540),l=o(86715),a=o(13838),i=o(88770),s=o(50157),d=o(62636),u=o(69162),c=o(65636),v=o(11690),h=o(37477),p=o(69552),f=o(25489),m=o(75526),g=o(68635),y=o(77041);let b=()=>{let{fetcher:e,isFetching:t}=(0,m.e)({method:g.Z.post});return{completeCourseLecture:async t=>{await e("".concat(y.q,"/lecture/").concat(t,"/complete"))},isFetching:t}};var w=o(16857),_=o(92177),x=o(56753),C=o(44647);let j=()=>-1!=navigator.userAgent.indexOf("Firefox"),E=(e,t)=>{(0,n.useEffect)(()=>{if(!e.current)return;let t=()=>{var t,o;window.location.hash&&(null===(o=e.current)||void 0===o?void 0:null===(t=o.contentDocument)||void 0===t?void 0:t.body.querySelector(window.location.hash))&&window.scrollTo(0,(0,C.Y)(e.current.contentDocument.body.querySelector(window.location.hash))+(0,C.Y)(e.current))},o=()=>{t(),j()&&setTimeout(()=>{window.location.hash=null},1e3)};return t(),window.addEventListener("hashchange",o),window.addEventListener("popstate",o),()=>{window.removeEventListener("hashchange",o),window.removeEventListener("popstate",o)}},[t,e])};var k=o(58666);let A=e=>{let{iframeRef:t}=e,{fontStyle:o,fontFamily:r}=(0,k.w)();(0,n.useLayoutEffect)(()=>{var e,n,l;if(r&&o&&(null===(n=t.current)||void 0===n?void 0:null===(e=n.contentDocument)||void 0===e?void 0:e.body)){let e=null===(l=t.current)||void 0===l?void 0:l.contentDocument.createElement("style");e.textContent=o,t.current.contentDocument.head.appendChild(e),t.current.contentDocument.body.style.fontFamily=r}},[t,r,o])};var L=o(79522),N=o(86203),S=o(26469);let M=e=>{let t;try{var o,r,n;let l=null!==(n=e.contentDocument)&&void 0!==n?n:null===(o=e.contentWindow)||void 0===o?void 0:o.document;t=null==l?void 0:null===(r=l.body)||void 0===r?void 0:r.scrollHeight}catch(e){t=void 0}return e.style.height=t?"".concat(t,"px"):"100%",t},B=e=>{if(!e)return()=>{};let t=()=>{},o=/^(?:#|mailto:|tel:|javascript:)/i,r=()=>{try{var t,o,r;return null!==(r=null!==(o=e.contentDocument)&&void 0!==o?o:null===(t=e.contentWindow)||void 0===t?void 0:t.document)&&void 0!==r?r:null}catch(e){return null}},n=e=>{var t;return null===(t=e.getAttribute("target"))||void 0===t?void 0:t.trim().toLowerCase()},l=e=>e.replace(/\/+$/,"")||"/",a=(e,t)=>{let o=e.getAttribute("href");if(!o)return!1;let r=null;try{r=new URL(o,t.URL)}catch(e){return!1}let n=new URL(t.URL);if(r.origin!==n.origin||!r.hash)return!1;let a=l(r.pathname)===l(n.pathname),i=r.search===n.search;return a&&i},i=()=>{let e=r();if(!e)return t;let l=t=>{if(t.hasAttribute("data-si-keep-target")||"_blank"===n(t)||t.hasAttribute("download"))return!0;let r=t.getAttribute("href");return!!(!r||o.test(r)||a(t,e))},i=new Set,s=!1,d=e=>{l(e)||"_parent"===n(e)||e.setAttribute("target","_parent")},u=()=>{for(let e of(s=!1,i))d(e);i.clear()},c=()=>{if(s)return;s=!0;let e=window.requestIdleCallback;"function"==typeof e?e(u,{timeout:200}):Promise.resolve().then(u)};e.querySelectorAll("a[href]").forEach(e=>{i.add(e)}),c();let v=new MutationObserver(e=>{for(let t of e)if("childList"===t.type&&t.addedNodes.forEach(e=>{var t;e.nodeType===Node.ELEMENT_NODE&&("A"===e.tagName&&e.hasAttribute("href")&&i.add(e),null===(t=e.querySelectorAll)||void 0===t||t.call(e,"a[href]").forEach(e=>i.add(e)))}),"attributes"===t.type&&t.target instanceof HTMLAnchorElement){if("href"===t.attributeName&&"_parent"===n(t.target))continue;i.add(t.target)}i.size&&c()}),h=e.body||e.documentElement||e;return v.observe(h,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["href","target","download"]}),()=>v.disconnect()},s=null,d=()=>{null==s||s(),s=i()};e.addEventListener("load",d);let u=r();return(null==u?void 0:u.readyState)==="complete"&&d(),()=>{e.removeEventListener("load",d),null==s||s()}};var D=o(83710);let H=function(e){return(0,r.jsxs)("svg",{width:"123",height:"106",viewBox:"0 0 123 106",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("path",{d:"M45.2058 98.3658H16.1625C11.322 98.3658 7.38389 94.4441 7.38389 89.6282V35.3565H114.82V49.7592C114.82 51.798 116.473 53.4512 118.511 53.4512C120.55 53.4512 122.203 51.798 122.203 49.7592V16.1215C122.203 7.23211 114.971 0 106.082 0H16.1625C7.25262 0 0 7.23211 0 16.1215V89.6322C0 98.5216 7.25262 105.754 16.1625 105.754H45.2058C47.2446 105.754 48.8978 104.101 48.8978 102.062C48.8978 100.023 47.2446 98.3658 45.2058 98.3658ZM16.1625 7.37979H106.082C110.902 7.37979 114.82 11.3015 114.82 16.1174V27.9685H7.38389V16.1215C7.38389 11.3015 11.322 7.37979 16.1625 7.37979Z",fill:"#142D63"}),(0,r.jsx)("path",{d:"M21.3158 21.1959C23.2725 21.1959 24.86 19.6084 24.86 17.6516C24.86 15.6949 23.2725 14.1033 21.3158 14.1033C19.359 14.1033 17.7715 15.6908 17.7715 17.6475C17.7715 19.6043 19.3549 21.1959 21.3158 21.1959Z",fill:"#142D63"}),(0,r.jsx)("path",{d:"M33.8065 21.1959C35.7632 21.1959 37.3507 19.6084 37.3507 17.6516C37.3507 15.6949 35.7632 14.1033 33.8065 14.1033C31.8497 14.1033 30.2622 15.6908 30.2622 17.6475C30.2622 19.6043 31.8456 21.1959 33.8065 21.1959Z",fill:"#142D63"}),(0,r.jsx)("path",{d:"M46.2967 21.196C48.2534 21.196 49.841 19.6084 49.841 17.6517C49.841 15.695 48.2534 14.1074 46.2967 14.1074C44.34 14.1074 42.7524 15.695 42.7524 17.6517C42.7524 19.6084 44.3359 21.196 46.2967 21.196Z",fill:"#142D63"}),(0,r.jsx)("path",{d:"M120.132 65.4135C116.095 61.7707 110.25 59.6827 104.101 59.6827C98.7144 59.6827 93.5457 61.3031 89.6486 64.1213C85.7516 61.299 80.5828 59.6827 75.1967 59.6827C69.0476 59.6827 63.202 61.7707 59.1695 65.4094C57.8404 66.6031 57.0815 68.3588 57.0815 70.2212V96.4053C57.0815 98.7066 58.2507 100.782 60.2115 101.964C62.2257 103.178 64.6911 103.24 66.7914 102.12C69.2404 100.823 72.1488 100.138 75.2008 100.138C79.9429 100.138 84.3363 101.808 86.9617 104.601C87.6591 105.344 88.6354 105.766 89.6527 105.766C90.6701 105.766 91.6464 105.344 92.3437 104.601C94.9691 101.804 99.3625 100.138 104.105 100.138C107.157 100.138 110.065 100.823 112.514 102.12C114.623 103.235 117.08 103.178 119.094 101.964C121.055 100.782 122.224 98.7066 122.224 96.4053V70.2212C122.22 68.3588 121.457 66.6072 120.132 65.4135ZM64.4613 95.0393V70.5945C67.1523 68.3506 71.033 67.0707 75.1967 67.0707C79.4178 67.0707 83.2903 68.4491 85.9567 70.7135V95.1049C82.7242 93.6158 79.024 92.7667 75.1967 92.7667C71.394 92.7585 67.7102 93.5461 64.4613 95.0393ZM114.836 95.0393C108.313 92.0365 99.8425 92.2375 93.3406 95.1459V70.7094C96.007 68.445 99.8794 67.0666 104.101 67.0666C108.26 67.0666 112.141 68.3465 114.836 70.5904V95.0393Z",fill:"#00A0FF"})]})};var O=o(60529),q=o(15403),I=o(73231);let z=e=>{var t;let{moduleLink:o}=e,{t:n}=(0,u.Bd)(),{user:l}=(0,h.Ay)(),{courseData:a}=(0,w.B)(),i=!!((null==a?void 0:a.salesPage)||o);return(0,r.jsx)(D.o,{className:(0,S.B)("course__info-screen--login-and-purchase-module-or-course"),icon:(0,r.jsx)(H,{className:"size-[80px]"}),text:n(i?"course.purchase_module_or_course_button":"course.module.error.access_unavailable"),buttons:i?(0,r.jsxs)(r.Fragment,{children:[!(0,h.NP)(l)&&(0,r.jsx)(q.r,{className:"font-bold ".concat((0,S.B)("course__button--login")),href:(null==l?void 0:l.dashboardLocale)&&(0,O.f)(l.dashboardLocale),target:"_blank",children:n("user.profile.menu.login")}),o&&(0,r.jsx)(q.r,{className:"font-bold ".concat((0,S.B)("course__button--purchase-module")),href:null!=o?o:"",target:"_blank",children:n("course.purchase_module_button")}),(null==a?void 0:a.salesPage)&&(0,r.jsx)(I.z,{className:"font-bold ".concat((0,S.B)("course__button--purchase-course")),href:null!==(t=a.salesPage)&&void 0!==t?t:"",target:"_blank",children:n("course.purchase_course_button")})]}):(0,r.jsx)(q.r,{className:"font-bold ".concat((0,S.B)("course__button--purchase-module")),href:window.location.origin+"/school?tab=explore",target:"_blank",children:n("course.explore_button")})})};var R=o(12979),T=o(6187),P=o(50856),Z=o(8583);let V=(0,n.forwardRef)(function(e,t){let{srcDoc:o,...n}=e;return(0,r.jsx)("div",{className:"relative w-full",children:(0,r.jsx)("iframe",{ref:t,className:(0,P.Id)("hide-scrollbar",(0,Z.n)()?"max-h-[85%] w-full overflow-y-auto":"h-screen w-full overflow-hidden"),style:{position:"absolute",opacity:0,height:0},"data-test-id":"course-lecture-iframe",srcDoc:o,...n})})}),F=["VIDEO","AUDIO"],W=e=>{let{setOpenPassQuiz:t,lectureId:o,isPreview:i,previewHash:s}=e,{t:C}=(0,u.Bd)(),{[c.p]:j}=(0,l.useRouter)().query,k=(0,n.useRef)(null),H=(0,n.useRef)(null),[O,q]=(0,n.useState)(!1),[P,Z]=(0,n.useState)(null),[W,U]=(0,n.useState)(!0),[K,Y]=(0,n.useState)(null),{step:Q,onNextStep:X}=(0,L.A)(),{user:$}=(0,h.Ay)(),{completeCourseLecture:G,isFetching:J}=b(),{courseData:ee,mutate:et}=(0,w.B)(),{courseMenu:eo,mutate:er}=(0,x.o)({courseId:null==ee?void 0:ee.id}),{courseLecture:en,isValidating:el}=function(e){let{courseLectureId:t,shouldFetch:o=!0,onError:r}=e,{fetcher:n}=(0,m.e)({method:g.Z.get,accessDeniedResponseHandler:e=>r&&r(e)}),{data:l,mutate:a,isValidating:i}=(0,_.Ay)(()=>void 0!==t&&o&&"".concat(y.q,"/lecture/").concat(t),n,{onError:r,shouldRetryOnError:!1});return{courseLecture:l,mutate:a,isValidating:i}}({courseLectureId:eo&&o,shouldFetch:!i,onError:e=>{var o,r,n,l,a,i;if(e instanceof v.Oy&&"object"==typeof(null===(o=e.response)||void 0===o?void 0:o.data)&&(null===(r=e.response)||void 0===r?void 0:r.data)!==null&&"reason"in(null===(n=e.response)||void 0===n?void 0:n.data)&&!("quiz"in e.response.data))Y((0,v.xe)(null===(a=e.response)||void 0===a?void 0:a.data.reason));else if(e instanceof v.Oy&&(null===(l=e.response)||void 0===l?void 0:l.data)&&"quiz"in e.response.data)t({blockingStep:e.response.data.quiz});else if(e instanceof v.Oy){let t=null===(i=e.response)||void 0===i?void 0:i.data;t&&"module"in t&&Z(t.module)}else d.Ay.error(C("global.error"));U(!1)}}),{courseLecturePreview:ea}=function(e){let{hash:t,shouldRender:o=!0}=e,{t:r}=(0,u.Bd)(),{fetcher:n}=(0,m.e)({method:g.Z.get}),{data:l}=(0,_.Ay)(()=>void 0!==t&&o&&"".concat(y.q,"/lecture/preview/").concat(t),n,{onError:()=>d.Ay.error(r("global.error"))});return{courseLecturePreview:l}}({hash:s,shouldRender:i}),ei=!!(null==ee?void 0:ee.lectureSessionLogging)&&!el&&!!((null==en?void 0:en.html)||ea)&&W,es=async()=>{(null==Q?void 0:Q.id)&&(await G(Q.id),await er(e=>null==e?void 0:e.map(e=>({...e,lectures:e.lectures.map(e=>e.id===(null==Q?void 0:Q.id)?{...e,completed:!0}:e),quiz:e.quiz&&e.lectures.every(e=>e.completed||e.id===Q.id)?{...e.quiz,available:!0}:e.quiz})),!1),et(),X())},ed=(0,n.useCallback)(()=>{var e,t;(null===(t=k.current)||void 0===t?void 0:null===(e=t.contentDocument)||void 0===e?void 0:e.body)&&k.current.contentDocument.body.addEventListener("contextmenu",e=>{let t=e.target;F.includes(t.tagName)&&e.preventDefault()})},[]);(0,n.useEffect)(()=>{(null==ee?void 0:ee.disableRightClick)&&O&&ed()},[null==ee?void 0:ee.disableRightClick,ed,O]),(0,n.useEffect)(()=>{Z(null)},[null==Q?void 0:Q.id]),(0,n.useLayoutEffect)(()=>{let e=e=>{var t,o;k.current&&(null===(t=k.current.contentDocument)||void 0===t?void 0:t.body)&&(null==e?void 0:null===(o=e.data)||void 0===o?void 0:o.type)==="lecture_content_height"&&e.data.height>0&&(k.current.style.height="".concat(e.data.height,"px"),k.current.style.position="relative",k.current.style.opacity="1",k.current.contentDocument.body.style.overflowY="hidden",q(!0))};return window.addEventListener("message",e),()=>window.addEventListener("message",e)},[]),(0,n.useLayoutEffect)(()=>{q(!1)},[en,ea]),A({iframeRef:k}),E(k,O),(0,n.useEffect)(()=>()=>{var e;null===(e=H.current)||void 0===e||e.call(H)},[]);let eu=(0,n.useCallback)(e=>{q(!!M(e.target))},[]);return!el&&Q&&(!Q.available&&(null==ee?void 0:ee.dominantAccessType)===N.Z.PartialAccess||P)?(0,r.jsx)(z,{moduleLink:P}):!el&&((null==en?void 0:en.html)||ea)||K?K?(0,r.jsx)(D.o,{text:(0,r.jsx)("span",{className:"whitespace-pre-line",children:C(K)})}):(0,r.jsxs)("div",{className:"relative w-full ".concat((0,S.B)("course-lecture__container")),children:[ei&&(0,r.jsx)(T.A,{}),(0,r.jsxs)("div",{className:"relative w-full overflow-y-auto rounded-md bg-THEME-block-background [&>*::-webkit-scrollbar]:hidden",children:[(0,r.jsx)(V,{srcDoc:(null==en?void 0:en.html)||ea,ref:e=>{var t;null===(t=H.current)||void 0===t||t.call(H),H.current=null,k.current=e,e&&(H.current=B(e))},onLoad:eu}),O&&$&&(null==en?void 0:en.showComments)&&(0,r.jsx)("div",{className:"px-3 py-4 lg:px-4 lg:py-5 ".concat((0,S.B)("course-lecture__comments-container")),children:(0,r.jsx)(p.ZF,{commentsType:f.Kf.Page,onError:()=>d.Ay.error(C("comments.error.error-loading-comments")),course:{pageId:null==en?void 0:en.pageId},targetCommentId:j?Number(j):void 0})}),!O&&(0,r.jsx)(a.M,{className:"z-40 ".concat((0,S.B)("course__content-skeleton--lecture"))})]}),O&&(0,r.jsx)("div",{className:"mt-5 flex justify-center rounded-md bg-THEME-block-background p-6",children:(null==Q?void 0:Q.completed)?(0,r.jsx)(R.O,{}):(0,r.jsx)(I.z,{isLoading:J,disabled:i,className:"font-bold ".concat((0,S.B)("course__button--mark-as-completed")),onClick:es,children:C("course.mark_step_as_completed_button_label")})})]}):(0,r.jsx)(a.M,{})};var U=o(17745);let K=e=>"".concat(y.q,"/light-editor/lecture/").concat(e),Y=e=>{var t,o,l;let{lectureId:i}=e,{t:s}=(0,u.Bd)(),{step:c,onNextStep:p}=(0,L.A)(),[f,y]=(0,n.useState)(null),[C,j]=(0,n.useState)(!0),[E,k]=(0,n.useState)(null),A=b(),M=(0,w.B)(),B=(0,x.o)({courseId:null===(t=M.courseData)||void 0===t?void 0:t.id}),H=function(e){let{config:t,lectureId:o}=e,{user:r}=(0,h.Ay)(),{fetcher:n}=(0,m.e)({method:g.Z.get,badRequestHandler:()=>{},notFoundResponseHandler:()=>{}});return(0,_.Ay)(()=>r?K(o):null,n,t)}({lectureId:i.toString(),config:{isPaused:()=>{var e;return(null===(e=M.courseData)||void 0===e?void 0:e.courseType)!=="light_course"},onError:e=>{var t,o,r,n,l;if(e instanceof v.Oy&&"object"==typeof(null===(t=e.response)||void 0===t?void 0:t.data)&&(null===(o=e.response)||void 0===o?void 0:o.data)!==null&&"reason"in(null===(r=e.response)||void 0===r?void 0:r.data))k((0,v.xe)(null===(n=e.response)||void 0===n?void 0:n.data.reason));else if(e instanceof v.Oy){let t=null===(l=e.response)||void 0===l?void 0:l.data;t&&"module"in t&&y(t.module)}else d.Ay.error(s("global.error"));j(!1)}}}),O=async()=>{(null==c?void 0:c.id)&&(await A.completeCourseLecture(c.id),await B.mutate(e=>null==e?void 0:e.map(e=>({...e,lectures:e.lectures.map(e=>e.id===(null==c?void 0:c.id)?{...e,completed:!0}:e)})),!1),M.mutate(),p())},q=!!(null===(o=M.courseData)||void 0===o?void 0:o.lectureSessionLogging)&&!!H.data&&C;return!H.isValidating&&c&&(!c.available&&(null===(l=M.courseData)||void 0===l?void 0:l.dominantAccessType)===N.Z.PartialAccess||f)?(0,r.jsx)(z,{moduleLink:f}):!H.isLoading&&H.data||E||H.data?E?(0,r.jsx)(D.o,{text:(0,r.jsx)("span",{className:"whitespace-pre-line",children:s(E)})}):(0,r.jsxs)("div",{className:(0,P.Id)("relative w-full",(0,S.B)("course-lecture__container")),children:[q&&(0,r.jsx)(T.A,{}),(0,r.jsx)("div",{className:"relative w-full overflow-y-auto rounded-md bg-THEME-block-background p-4 [&>*::-webkit-scrollbar]:hidden",children:H.data&&(0,r.jsx)(U._B,{name:H.data.name,body:H.data.body,video:H.data.video,attachments:H.data.attachments})}),(0,r.jsx)("div",{className:"mt-5 flex justify-center rounded-md bg-THEME-block-background p-6",children:(null==c?void 0:c.completed)?(0,r.jsx)(R.O,{}):(0,r.jsx)(I.z,{isLoading:A.isFetching,className:(0,P.Id)("font-bold",(0,S.B)("course__button--mark-as-completed")),onClick:O,children:s("course.mark_step_as_completed_button_label")})})]}):(0,r.jsx)(a.M,{})};var Q=o(50211),X=o(34280);let $=()=>{var e;let{lectureId:t,previewHash:o}=(0,l.useRouter)().query,d=(0,X.L)(t),{isPreview:u}=(0,L.A)(),c=(0,w.B)(),[v,h]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{h(!1)},[t]),c.isLoading)return(0,r.jsx)(s.A,{children:(0,r.jsx)(a.M,{})});let p=(null===(e=c.courseData)||void 0===e?void 0:e.courseType)==="light_course";return(0,r.jsx)(s.A,{children:v?(0,r.jsx)(i.H,{blockingStep:null==v?void 0:v.blockingStep}):p?(0,r.jsx)(Y,{lectureId:d}):(0,r.jsx)(W,{lectureId:d,isPreview:u,previewHash:o,setOpenPassQuiz:h})})};$.getLayout=Q.z;var G=!0;let J=$},65636:(e,t,o)=>{"use strict";o.d(t,{p:()=>r});let r="commentId"},59184:(e,t,o)=>{"use strict";o.d(t,{$k:()=>u});var r=o(58270),n=o(69101),l={isHistory:e=>(0,r.Q)(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(0===e.redos.length||n.I.isOperationList(e.redos[0].operations))&&(0===e.undos.length||n.I.isOperationList(e.undos[0].operations))};new WeakMap;var a=new WeakMap,i=new WeakMap,s=new WeakMap,d={isHistoryEditor:e=>l.isHistory(e.history)&&n.KE.isEditor(e),isMerging:e=>i.get(e),isSplittingOnce:e=>s.get(e),setSplittingOnce(e,t){s.set(e,t)},isSaving:e=>a.get(e),redo(e){e.redo()},undo(e){e.undo()},withMerging(e,t){var o=d.isMerging(e);i.set(e,!0),t(),i.set(e,o)},withNewBatch(e,t){var o=d.isMerging(e);i.set(e,!0),s.set(e,!0),t(),i.set(e,o),s.delete(e)},withoutMerging(e,t){var o=d.isMerging(e);i.set(e,!1),t(),i.set(e,o)},withoutSaving(e,t){var o=d.isSaving(e);a.set(e,!1),t(),a.set(e,o)}},u=e=>{var{apply:t}=e;return e.history={undos:[],redos:[]},e.redo=()=>{var{history:t}=e,{redos:o}=t;if(o.length>0){var r=o[o.length-1];r.selectionBefore&&n.gB.setSelection(e,r.selectionBefore),d.withoutSaving(e,()=>{n.KE.withoutNormalizing(e,()=>{for(var t of r.operations)e.apply(t)})}),t.redos.pop(),e.writeHistory("undos",r)}},e.undo=()=>{var{history:t}=e,{undos:o}=t;if(o.length>0){var r=o[o.length-1];d.withoutSaving(e,()=>{n.KE.withoutNormalizing(e,()=>{for(var t of r.operations.map(n.I.inverse).reverse())e.apply(t);r.selectionBefore&&n.gB.setSelection(e,r.selectionBefore)})}),e.writeHistory("redos",r),t.undos.pop()}},e.apply=o=>{var{operations:r,history:n}=e,{undos:l}=n,a=l[l.length-1],i=a&&a.operations[a.operations.length-1],s=d.isSaving(e),u=d.isMerging(e);if(null==s&&(s=v(o)),s){if(null==u&&(u=null!=a&&(0!==r.length||c(o,i))),d.isSplittingOnce(e)&&(u=!1,d.setSplittingOnce(e,void 0)),a&&u)a.operations.push(o);else{var h={operations:[o],selectionBefore:e.selection};e.writeHistory("undos",h)}for(;l.length>100;)l.shift();n.redos=[]}t(o)},e.writeHistory=(t,o)=>{e.history[t].push(o)},e},c=(e,t)=>!!(t&&"insert_text"===e.type&&"insert_text"===t.type&&e.offset===t.offset+t.text.length&&n.wA.equals(e.path,t.path)||t&&"remove_text"===e.type&&"remove_text"===t.type&&e.offset+e.text.length===t.offset&&n.wA.equals(e.path,t.path)),v=(e,t)=>"set_selection"!==e.type}},e=>{var t=t=>e(e.s=t);e.O(0,[20821,69130,13554,8855,17745,60408,84668,76880,22759,90102,90636,46593,38792],()=>t(58915)),_N_E=e.O()}]);
//# sourceMappingURL=[lectureId]-2a5037875710802f.js.map