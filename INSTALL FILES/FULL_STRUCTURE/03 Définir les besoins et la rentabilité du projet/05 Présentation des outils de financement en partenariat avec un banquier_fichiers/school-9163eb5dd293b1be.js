(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8036],{87887:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/school",function(){return s(38573)}])},89429:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var l=s(74848);s(96540);var a=s(69162),r=s(29965),n=s.n(r);let o=e=>{let{className:t}=e,{t:s}=(0,a.Bd)();return(0,l.jsxs)("div",{className:"flex w-full flex-col items-center justify-center gap-3 rounded-lg bg-white py-10 ".concat(t||""),children:[(0,l.jsx)(n(),{width:200,height:200,alt:"list-empty",src:"/images/empty-list-logo.png"}),(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("span",{className:"text-base text-darkblue",children:s("global.list.empty_title")}),(0,l.jsx)("span",{className:"text-base text-darkblue",children:s("global.list.empty_list")})]})]})}},77041:(e,t,s)=>{"use strict";s.d(t,{q:()=>l});let l="/api/membership"},38573:(e,t,s)=>{"use strict";s.r(t),s.d(t,{__N_SSP:()=>ee,default:()=>et});var l=s(74848),a=s(96540),r=s(69162),n=s(86715),o=s(21661);let c=e=>{let{children:t,className:s,...a}=e;return(0,l.jsx)(o.oz,{className:e=>{let{selected:t}=e;return"".concat(t?"border-b-2 border-b-blue text-darkblue":"border-b-2 border-b-transparent"," main-transition-colors w-fit px-4 pb-6 pt-6 outline-none sm:px-5 ").concat(s||"")},...a,children:(0,l.jsx)("span",{className:"whitespace-nowrap font-inter font-bold sm:text-[17px]",children:t})})},i=e=>{let{className:t,...s}=e;return(0,l.jsx)("div",{className:"w-full ".concat(t||""),children:(0,l.jsx)(o.fu,{as:a.Fragment,...s})})},d=e=>{let{className:t,buttonBar:s,...a}=e;return(0,l.jsxs)("div",{className:"mb-5 ml-[min(-20px,calc(-1*(100vw-1536px)/2-20px))] flex w-screen items-center justify-between bg-white pl-[max(20px,calc((100vw-1536px)/2+20px))] pr-10 lg:pr-[max(20px,calc((100vw-1536px)/2+20px))] ".concat(t||""),children:[(0,l.jsx)(o.wb,{...a}),s]})},m=e=>{let{className:t,...s}=e;return(0,l.jsx)("div",{className:"".concat(t||""),children:(0,l.jsx)(o.Kp,{...s})})};var u=s(37477),x=s(22713),h=s(45876),p=s(17745),b=s(89429),g=s(45889),f=s(64285);let j=e=>{let t="systeme.io"!==new URL(e).host||!!new URL(e).searchParams.get("domainName");return!(0,f.i)()&&t?"_blank":"_self"},v=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(p.Oo,{className:"hidden sm:block"}),(0,l.jsx)(p.Oo,{className:"hidden sm:block"}),(0,l.jsx)(p.Oo,{className:"hidden sm:block"}),(0,l.jsx)(p.Oo,{}),(0,l.jsx)(p.Oo,{}),(0,l.jsx)(p.Oo,{}),(0,l.jsx)(p.Oo,{className:"hidden xl:block"}),(0,l.jsx)(p.Oo,{className:"hidden xl:block"})]});var N=s(43190),C=s(58427),y=s(92177),w=s(75526),_=s(68635),k=s(77041);let F={src:"https://d3ad93l7voimcb.cloudfront.net/_next/static/media/default-course-cover.d988625a.png"};var A=s(3810),L=s(68192),P=s(48402);let O=function(e){return(0,l.jsx)("svg",{width:"20",height:"21",viewBox:"0 0 20 21",fill:"#142D63",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,l.jsx)("g",{opacity:"0.6",children:(0,l.jsx)("path",{d:"M16.6922 5.68281L13.5672 2.55781C13.5091 2.49979 13.4402 2.45378 13.3643 2.42241C13.2884 2.39105 13.2071 2.37494 13.125 2.375H6.875C6.54348 2.375 6.22554 2.5067 5.99112 2.74112C5.7567 2.97554 5.625 3.29348 5.625 3.625V4.875H4.375C4.04348 4.875 3.72554 5.0067 3.49112 5.24112C3.2567 5.47554 3.125 5.79348 3.125 6.125V17.375C3.125 17.7065 3.2567 18.0245 3.49112 18.2589C3.72554 18.4933 4.04348 18.625 4.375 18.625H13.125C13.4565 18.625 13.7745 18.4933 14.0089 18.2589C14.2433 18.0245 14.375 17.7065 14.375 17.375V16.125H15.625C15.9565 16.125 16.2745 15.9933 16.5089 15.7589C16.7433 15.5245 16.875 15.2065 16.875 14.875V6.125C16.8751 6.0429 16.859 5.96159 16.8276 5.88572C16.7962 5.80985 16.7502 5.7409 16.6922 5.68281ZM10.625 15.5H6.875C6.70924 15.5 6.55027 15.4342 6.43306 15.3169C6.31585 15.1997 6.25 15.0408 6.25 14.875C6.25 14.7092 6.31585 14.5503 6.43306 14.4331C6.55027 14.3158 6.70924 14.25 6.875 14.25H10.625C10.7908 14.25 10.9497 14.3158 11.0669 14.4331C11.1842 14.5503 11.25 14.7092 11.25 14.875C11.25 15.0408 11.1842 15.1997 11.0669 15.3169C10.9497 15.4342 10.7908 15.5 10.625 15.5ZM10.625 13H6.875C6.70924 13 6.55027 12.9342 6.43306 12.8169C6.31585 12.6997 6.25 12.5408 6.25 12.375C6.25 12.2092 6.31585 12.0503 6.43306 11.9331C6.55027 11.8158 6.70924 11.75 6.875 11.75H10.625C10.7908 11.75 10.9497 11.8158 11.0669 11.9331C11.1842 12.0503 11.25 12.2092 11.25 12.375C11.25 12.5408 11.1842 12.6997 11.0669 12.8169C10.9497 12.9342 10.7908 13 10.625 13ZM15.625 14.875H14.375V8.625C14.3751 8.5429 14.359 8.46159 14.3276 8.38572C14.2962 8.30985 14.2502 8.2409 14.1922 8.18281L11.0672 5.05781C11.0091 4.99979 10.9402 4.95378 10.8643 4.92241C10.7884 4.89105 10.7071 4.87494 10.625 4.875H6.875V3.625H12.8664L15.625 6.38359V14.875Z"})})})};var E=s(24073);let z=e=>{var t;let{data:s}=e,{t:a}=(0,r.Bd)(),{user:n}=(0,u.Ay)(),o=!s.accessFrom&&(0,l.jsxs)(A.A,{width:"small",className:"mt-3 w-full min-w-[120px] self-start sm:mt-0 sm:w-[unset]",href:s.resumeUrl,target:j(s.resumeUrl),children:[a(s.progress?"school.card.button.resume_course":"school.card.button.open_course"),(0,l.jsx)(P.A,{className:"rotate-180",stroke:"white"})]});return(0,l.jsxs)("div",{className:"flex flex-col rounded-2xl md:flex-row",children:[(0,l.jsx)("div",{className:"w-full md:w-[550px]",children:(0,l.jsx)("div",{className:"relative w-full",style:{paddingTop:"calc(100% * 9 / 16)"},children:(0,l.jsx)("div",{className:"absolute left-0 top-0 size-full",children:(0,l.jsx)("img",{className:"w-full rounded-lg bg-contain bg-no-repeat",src:(null===(t=s.image)||void 0===t?void 0:t.path)||F.src})})})}),(0,l.jsxs)("div",{className:"mt-4 flex basis-full flex-col md:mt-0 md:pl-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex flex-col-reverse justify-between gap-4 sm:flex-row",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h5",{className:"text-lg font-bold text-darkblue sm:text-xl",children:s.name}),s.instructorName&&(0,l.jsx)("p",{className:"mt-2 text-base font-normal text-blue ".concat(s.instructorName?"":"opacity-0"),children:s.instructorName||"."})]}),(0,l.jsx)("div",{className:"hidden sm:block",children:o})]}),(0,l.jsx)("p",{className:"mt-3 text-base text-darkblue/70",children:s.description})]}),(0,l.jsxs)("div",{className:"mt-auto flex flex-wrap justify-between gap-2 sm:flex-nowrap",children:[s.accessFrom&&(0,u.NP)(n)?(0,l.jsx)("p",{className:"mt-2 text-sm text-darkblue/70",children:a("school.card.waiting_for_access",{date:(0,E.LE)(s.accessFrom,{timeFormat:null==n?void 0:n.timeFormat,dateFormat:null==n?void 0:n.dateFormat,timeZone:null==n?void 0:n.timezone})})}):(0,l.jsx)(L.A,{className:"mt-3",progress:s.progress,theme:"dark_blue"}),(0,l.jsx)("div",{className:"flex justify-end sm:mt-3 sm:basis-[200px]",children:(0,l.jsxs)("span",{className:"flex items-center gap-1 text-sm text-gray-400 sm:text-base",children:[(0,l.jsx)(O,{}),a("school.card.lessons_counter",{progress:"".concat(s.accessFrom?"":"".concat(s.completedLecturesCount,"/")).concat(s.totalLecturesCount)})]})})]}),(0,l.jsx)("div",{className:"sm:hidden",children:o})]})]})},B=e=>{let{className:t}=e;return(0,l.jsx)("div",{className:"h-[200px] animate-pulse rounded-2xl bg-gray-600 ".concat(t)})},U=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(B,{}),(0,l.jsx)(B,{}),(0,l.jsx)(B,{})]}),q=function(e){let{isOpened:t,onClose:s,schoolEnrollmentId:a,name:n,imagePath:o}=e,{t:c}=(0,r.Bd)(),{coursesOfCourseBundle:i}=function(e){let{schoolEnrollmentId:t}=e,{user:s}=(0,u.Ay)(),{fetcher:l}=(0,w.e)({method:_.Z.get}),{data:a}=(0,y.Ay)(()=>s&&t&&"".concat(k.q,"/enrollments/").concat(t,"/bundle"),l);return{coursesOfCourseBundle:a}}({schoolEnrollmentId:a});return(0,l.jsxs)(N.A,{className:"relative !rounded-2xl bg-lightblue",opened:t,onClose:s,children:[(0,l.jsx)(C.A,{onClick:s,className:"absolute right-2 top-2 z-10 size-8 cursor-pointer rounded-full bg-white p-2 lg:left-full lg:right-[unset] lg:top-0 lg:ml-3"}),(0,l.jsxs)("div",{className:"relative ".concat("before:absolute before:inset-0 before:rounded-t-2xl before:bg-gradient-to-b before:from-[#142d6333] before:to-[#142D63]"),children:[(0,l.jsx)("img",{className:"size-full min-h-[200px] rounded-t-2xl object-cover sm:h-[300px]",src:o||F.src,alt:""}),(0,l.jsx)("h3",{className:"absolute bottom-3 left-3 text-xl font-bold text-white sm:bottom-8 sm:left-8 sm:text-2xl",children:n})]}),(0,l.jsxs)("div",{className:"p-5 md:p-8",children:[(0,l.jsx)("div",{className:"flex justify-between",children:(0,l.jsx)("span",{className:"text-lg font-bold text-darkblue sm:text-3xl",children:c("school.course_bundle_modal.courses_label")})}),(0,l.jsx)("div",{className:"mt-4 flex flex-col gap-12 sm:mt-9",children:i?null==i?void 0:i.map((e,t)=>(0,l.jsx)(z,{data:e},t)):(0,l.jsx)(U,{})})]})]})},H=e=>{let{enrollments:t,limit:s,setLimit:r,pagination:n,setPagination:o,filterComponent:c}=e,{user:i}=(0,u.Ay)(),[d,m]=(0,a.useState)({isOpened:!1,schoolEnrollmentId:null,name:null,imagePath:null});return(0,l.jsxs)("div",{children:[c,(0,l.jsx)("div",{className:"mt-9 grid grid-cols-1 gap-4 sm:grid-cols-2 md:gap-5 lg:grid-cols-3 lg:gap-6 xl:grid-cols-4",children:t?t.items.length?t.items.map(e=>{var t;return(0,l.jsx)(p.Jn,{variant:"bundle"===e.type?"dark":"white",courseCover:(null===(t=e.data.image)||void 0===t?void 0:t.path)||null,description:e.data.description,href:"course"===e.type?e.data.resumeUrl:null,target:"course"===e.type?j(e.data.resumeUrl):null,instructorName:e.data.instructorName,title:e.data.name,onClick:"bundle"===e.type?()=>{var t;return m({isOpened:!0,schoolEnrollmentId:e.id,name:e.data.name,imagePath:(null===(t=e.data.image)||void 0===t?void 0:t.path)||null})}:void 0,accessFrom:"course"===e.type?e.data.accessFrom:null,progress:e.data.progress,userTimeFormat:(0,u.NP)(i)?{dateFormat:i.dateFormat,timeFormat:i.timeFormat,timezone:i.timezone}:null,..."bundle"===e.type?{totalCoursesCount:e.data.totalCoursesCount,completedCoursesCount:e.data.completedCoursesCount}:{totalLecturesCount:e.data.totalLecturesCount,completedLecturesCount:e.data.completedLecturesCount}},e.id)}):(0,l.jsx)(b.A,{className:"col-span-full bg-transparent"}):(0,l.jsx)(v,{})}),(0,l.jsx)("div",{className:"mt-4 flex justify-end gap-6 md:mt-5 lg:mt-6",children:(0,l.jsx)(g.A,{data:t,limiter:{limit:s,setLimit:r},paginator:{pagination:n,setPagination:o,hasMore:null==t?void 0:t.hasMore},limitObj:x.P})}),(0,l.jsx)(q,{onClose:()=>m({isOpened:!1,schoolEnrollmentId:null,name:null,imagePath:null}),...d})]})};var I=s(15407),S=s(23991);let Z={searchBy:""},M=e=>{let{className:t,inputClassName:s,filter:n,setFilter:o}=e,[c,i]=(0,a.useState)(n.searchBy),{t:d}=(0,r.Bd)();return(0,l.jsxs)("form",{className:"justify-end gap-5 ".concat(t||"flex"),children:[(0,l.jsx)(I.A,{"data-test-id":"input-search-school-name",inputClassName:s,placeholder:d("global.name"),onClear:()=>i(""),value:c,onChange:e=>i(e.target.value)},"name-filter"),(0,l.jsxs)(A.A,{type:"submit",onClick:e=>{e.preventDefault(),o(e=>({...e,searchBy:c}))},className:"flex items-center","data-test-id":"button-school-search",children:[(0,l.jsx)(S.A,{className:"size-[15px]",stroke:"white"}),(0,l.jsxs)("span",{className:"hidden font-bold sm:block",children:[" ",d("global.search")]})]})]})};var T=s(49614),V=s(96039);let D=()=>{let{user:e}=(0,u.Ay)(),{limit:t,setLimit:s,pagination:a,setPagination:r}=(0,T.W)({isStaticUrl:!0,initLimit:x.P.short}),{exploreCourses:n}=function(e){let{limit:t,pagination:s}=e,{user:l}=(0,u.Ay)(),{fetcher:a}=(0,w.e)({method:_.Z.get}),{fetcher:r}=(0,w.e)({method:_.Z.get}),{data:n,mutate:o}=(0,y.Ay)(()=>l&&"".concat(k.q,"/explore/list?").concat((0,V.C)({limit:t,pagination:s})),a),{data:c}=(0,y.Ay)(()=>{l&&k.q},r);return{exploreCourses:n,mutate:o,counter:c}}({limit:t,pagination:a});return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mt-9 grid grid-cols-1 gap-4 sm:grid-cols-2 md:gap-5 lg:grid-cols-3 lg:gap-6 xl:grid-cols-4",children:n?n.items.length?n.items.map(t=>{var s;return(0,l.jsx)(p.Jn,{courseCover:(null===(s=t.image)||void 0===s?void 0:s.path)||null,description:t.description,href:t.courseUrl,target:j(t.courseUrl),variant:"white",title:t.name,instructorName:t.instructorName,totalLecturesCount:t.totalLecturesCount,accessFrom:null,progress:void 0,userTimeFormat:(0,u.NP)(e)?{dateFormat:e.dateFormat,timeFormat:e.timeFormat,timezone:e.timezone}:null},t.id)}):(0,l.jsx)(b.A,{className:"col-span-full bg-transparent"}):(0,l.jsx)(v,{})}),(0,l.jsx)("div",{className:"mt-4 flex justify-end gap-6 md:mt-5 lg:mt-6",children:(0,l.jsx)(g.A,{data:n,limiter:{limit:t,setLimit:s},paginator:{pagination:a,setPagination:r,hasMore:null==n?void 0:n.hasMore},limitObj:x.P})})]})};var R=s(56732),Q=s(76669),X=s(86085),J=s.n(X),K=s(43074),W=s(23519);function G(e){let{children:t,domainAssets:s}=e,{t:a}=(0,r.Bd)(),{user:n}=(0,u.Ay)();return(0,K.I)(),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(J(),{children:[(0,l.jsx)("title",{children:a("browser_tab_title.school")}),(null==s?void 0:s.faviconUrl)&&(0,l.jsx)("link",{rel:"icon",href:s.faviconUrl})]}),(0,l.jsx)(W.A,{logoSrc:null==s?void 0:s.logoUrl}),(0,l.jsx)("div",{className:"overflow-hidden",children:(0,l.jsx)(p.g8,{locale:(0,u.NP)(n)?n.dashboardLocale:Q.LocaleEnum.ENGLISH,children:(0,l.jsx)("div",{className:"mx-auto max-w-screen-2xl px-5 pb-4 lg:pb-9",children:t})})})]})}var Y=function(e){return e.enrollments="enrollments",e.explore_courses="explore_courses",e}({});function $(){let{t:e}=(0,r.Bd)(),[t,s]=(0,a.useState)(!1),o=(0,n.useRouter)(),{tab:p}=o.query,{user:b}=(0,u.Ay)(),{limit:g,setLimit:f,pagination:j,setPagination:v,filter:N,setFilter:C}=(0,h.I)({defaultFilter:Z,isStaticUrl:!0,initLimit:x.P.short}),F=(0,u.NP)(b),{enrollments:A}=function(e){let{shouldFetch:t=!0,limit:s,pagination:l,filter:a,afterFetch:r}=e,{user:n}=(0,u.Ay)(),{fetcher:o}=(0,w.e)({method:_.Z.get,afterFetch:r}),{fetcher:c}=(0,w.e)({method:_.Z.get}),i=(0,u.NP)(n),{data:d,mutate:m}=(0,y.Ay)(()=>n&&i&&t&&"".concat(k.q,"/enrollments/list?").concat((0,R.d)({limit:s,pagination:l,filter:a})),o),{data:x}=(0,y.Ay)(()=>{n&&k.q},c);return{enrollments:d,mutate:m,counter:x}}({limit:g,pagination:j,filter:N,afterFetch:e=>(t||N.searchBy||p!==Y.enrollments||e.items.length||o.replace({query:{tab:Y.explore_courses}}),s(!0),e),shouldFetch:p===Y.enrollments});return(0,a.useEffect)(()=>{p===Y.explore_courses&&s(!0)},[p]),(0,a.useEffect)(()=>{b&&(F||p===Y.explore_courses?p||o.replace({query:{tab:Y.enrollments}}):o.replace({query:{tab:Y.explore_courses}}))},[o,p,b,F]),(0,l.jsx)("div",{children:(0,l.jsxs)(i,{selectedIndex:Object.values(Y).findIndex(e=>e===p),children:[(0,l.jsxs)(d,{className:"min-h-[75px] flex-col md:flex-row",buttonBar:b&&p!==Y.explore_courses&&(0,l.jsx)(M,{className:"hidden md:flex",inputClassName:"bg-lightblue",filter:N,setFilter:C}),children:[(0,l.jsx)(c,{"data-test-id":"button-enrollments-school",className:b&&F?"":"hidden",onClick:()=>{C(e=>({...e,searchBy:""})),o.push({query:{tab:Y.enrollments}})},children:e("school.tabs.enrollments_title")}),(0,l.jsx)(c,{"data-test-id":"button-explore-courses-school",className:b?"":"hidden",onClick:()=>o.push({query:{tab:Y.explore_courses}}),children:e("school.tabs.explore_courses_title")})]}),(0,l.jsx)(m,{children:(0,l.jsx)(H,{enrollments:A,limit:g,setLimit:f,pagination:j,setPagination:v,filter:N,filterComponent:(0,l.jsx)(M,{className:"flex md:hidden",filter:N,setFilter:C})})}),(0,l.jsx)(m,{children:(0,l.jsx)(D,{})})]})})}$.getLayout=(e,t)=>(0,l.jsx)(G,{domainAssets:t.domainAssets,children:e});var ee=!0;let et=$},15407:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var l=s(74848);s(96540);var a=s(69162),r=s(50856),n=s(58427),o=s(23991);let c=function(e){let{label:t,value:s,inputClassName:c,onChange:i,onFocus:d,maxLength:m,error:u,placeholder:x,onClear:h,description:p,testAttributePostfix:b,isPreFetching:g,labelClassName:f,className:j,...v}=e,{t:N}=(0,a.Bd)();return(0,l.jsxs)("label",{className:(0,r.QP)("relative flex flex-col gap-1 text-sm font-medium",f,j),children:[t&&(0,l.jsx)("span",{children:t}),""===s?(0,l.jsx)(o.A,{className:(0,r.QP)("absolute right-4 z-10 size-[21px] translate-y-1/2 scale-75",t&&"top-[24px]")}):(0,l.jsx)(n.A,{onClick:h,className:(0,r.QP)("absolute right-2 z-10 size-[21px] translate-y-1/2 scale-75 cursor-pointer fill-darkblue",t&&"top-[24px]")}),(0,l.jsx)("input",{className:(0,r.QP)("main-transition-colors relative w-full rounded-lg border text-darkblue","py-2.5 pl-4 pr-8 placeholder:text-gray-300/70 focus:border-blue focus:outline-none",u?"border-danger":"border-gray/30",g?"animate-pulse bg-gray-600/40 text-transparent disabled:bg-gray-600/40":"disabled:bg-gray-200/40",c),onKeyDown:e=>"number"===v.type&&["e","E","+","-"].includes(e.key)&&e.preventDefault(),type:v.type||"text",disabled:v.disabled||g,value:s,onChange:i,onFocus:d,maxLength:m,placeholder:x||N("global.search"),spellCheck:!1,...v}),p&&(0,l.jsx)("span",{className:"text-sm opacity-70",children:p}),u&&(0,l.jsx)("p",{className:"text-sm text-danger",children:u})]})}},68192:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var l=s(74848);let a=e=>{let{theme:t}=e;return"relative text-sm leading-[22px] text-center font-semibold w-full h-[24px] overflow-hidden rounded-xl border-[0.7px] ".concat((()=>{switch(t){case"dark_blue":return"text-darkblue bg-white border-darkblue/30";case"light_blue":return"text-blue bg-darkblue2 border-darkblue/30"}})())},r=e=>{let{theme:t}=e;return"absolute inset-0 overflow-hidden rounded-xl h-full\n  ".concat((()=>{switch(t){case"dark_blue":return"text-white bg-darkblue";case"light_blue":return"text-white bg-blue"}})())},n=e=>{let{className:t,indicatorClassName:s,progress:n,theme:o="dark_blue"}=e;return(0,l.jsxs)("div",{className:"".concat(a({theme:o})," ").concat(t||""),"data-test-id":"course-progress-bar",children:[(0,l.jsx)("div",{className:"".concat(r({theme:o})," ").concat(s||""),style:{width:"".concat(n,"%")},children:(0,l.jsxs)("div",{style:{width:"".concat(100/n*100,"%")},children:[n,"%"]})}),n,"%"]})}},49614:(e,t,s)=>{"use strict";s.d(t,{W:()=>u});var l=s(96540),a=s(86715),r=s.n(a),n=s(33115),o=s(19973),c=s(6729),i=s(31559),d=s(22713);let m=["order","limit","startFromId"],u=e=>{let{isStaticUrl:t,initLimit:s=d.j.short}=e,{isReady:u,query:x}=(0,a.useRouter)(),h=(0,l.useRef)(x);(0,l.useEffect)(()=>{h.current=x},[x]);let{limit:p,startFromId:b,order:g}=(0,n.c)(),[f,j]=(0,l.useState)(p||s),[v,N]=(0,l.useState)({startFromId:b,order:i.O.next,staticUrl:t});(0,l.useEffect)(()=>{u&&(0,c.X)({setPagination:N,setLimit:j,limit:p,order:g,startFromId:b})},[u,p,g,b]),(0,l.useEffect)(()=>{if(t||!u)return;let e=(0,o.x)({limit:f,pagination:v,initLimit:s}),l=Object.keys(h.current).find(e=>!m.includes(e)),a=l?{[l]:h.current[l]}:{},n=setTimeout(()=>{r().replace({query:{...a,...e}},void 0,{shallow:!0})});return function(){clearTimeout(n)}},[t,f,u,v,s]);let C=(0,l.useCallback)(()=>{N({startFromId:void 0,order:i.O.next}),j(s)},[s]);return{limit:f,setLimit:j,pagination:v,setPagination:N,clearPagination:C}}}},e=>{var t=t=>e(e.s=t);e.O(0,[29965,13554,17745,59165,90636,46593,38792],()=>t(87887)),_N_E=e.O()}]);
//# sourceMappingURL=school-9163eb5dd293b1be.js.map