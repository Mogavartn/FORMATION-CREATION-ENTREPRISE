<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Modules</title>
</head>
<body>
    <h1>Test des Modules</h1>
    <div id="test-results"></div>

    <!-- Charger les modules -->
    <script src="lesson-content-module1.js"></script>
    <script src="lesson-content-module2.js"></script>
    <script src="lesson-content-module3.js"></script>
    <script src="lesson-content-module4.js"></script>
    
    <script>
        // Test de chargement des modules
        const results = document.getElementById('test-results');
        
        function testModule(moduleId) {
            const moduleContentVar = `module${moduleId}Content`;
            const moduleExists = typeof window[moduleContentVar] !== 'undefined';
            
            results.innerHTML += `<p>Module ${moduleId}: ${moduleExists ? '✓ Chargé' : '✗ Non chargé'}</p>`;
            
            if (moduleExists) {
                const module = window[moduleContentVar];
                const lessons = Object.keys(module);
                results.innerHTML += `<p>  - Leçons disponibles: ${lessons.join(', ')}</p>`;
            }
        }
        
        // Tester les modules 1-4
        for (let i = 1; i <= 4; i++) {
            testModule(i);
        }
        
        // Test de la fonction getLessonData
        results.innerHTML += '<h2>Test getLessonData</h2>';
        
        // Simuler la fonction getLessonData
        function testGetLessonData(moduleId, lessonId) {
            const moduleContentVar = `module${moduleId}Content`;
            
            if (typeof window[moduleContentVar] !== 'undefined' && window[moduleContentVar][lessonId]) {
                const lesson = window[moduleContentVar][lessonId];
                return {
                    title: lesson.title,
                    moduleTitle: lesson.moduleTitle,
                    content: lesson.content ? 'Contenu présent' : 'Pas de contenu',
                    type: lesson.type || 'lesson'
                };
            }
            return null;
        }
        
        // Tester quelques leçons
        const testCases = [
            { module: 1, lesson: 1 },
            { module: 2, lesson: 1 },
            { module: 2, lesson: 2 },
            { module: 3, lesson: 1 }
        ];
        
        testCases.forEach(test => {
            const result = testGetLessonData(test.module, test.lesson);
            results.innerHTML += `<p>Module ${test.module}, Leçon ${test.lesson}: ${result ? '✓ Trouvée - ' + result.title : '✗ Non trouvée'}</p>`;
        });
    </script>
</body>
</html>